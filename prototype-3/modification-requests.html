<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Transaction Workspace</title>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="../shared/components/Sidenav.js"></script>
</head>
  <body class="bg-gray-100 min-h-screen">
    <div id="root"></div>

    <script type="text/babel">
      // Lightweight global error capture to help surface runtime issues during development
      window.__lastMaxHomeError = null;
      window.addEventListener('error', (event) => {
        window.__lastMaxHomeError = event?.error?.stack || event.message;
      });

      const { useState, useEffect } = React;

    // Icon Components
    const ArrowLeft = ({ size = 20 }) => (
      <svg
        width={size}
        height={size}
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        strokeWidth={2}
        strokeLinecap="round"
        strokeLinejoin="round"
      >
        <path d="M19 12H5" />
        <path d="M12 19l-7-7 7-7" />
      </svg>
    );

    const Edit = ({ size = 16 }) => (
      <svg
        width={size}
        height={size}
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        strokeWidth={2}
        strokeLinecap="round"
        strokeLinejoin="round"
      >
        <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7" />
        <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z" />
      </svg>
    );

    const FileText = ({ size = 20 }) => (
      <svg
        width={size}
        height={size}
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        strokeWidth={2}
        strokeLinecap="round"
        strokeLinejoin="round"
      >
        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" />
        <polyline points="14 2 14 8 20 8" />
        <line x1="16" y1="13" x2="8" y2="13" />
        <line x1="16" y1="17" x2="8" y2="17" />
        <polyline points="10 9 9 9 8 9" />
      </svg>
    );

    const CheckSquare = ({ size = 20 }) => (
      <svg
        width={size}
        height={size}
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        strokeWidth={2}
        strokeLinecap="round"
        strokeLinejoin="round"
      >
        <polyline points="9 11 12 14 22 4" />
        <path d="M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11" />
      </svg>
    );

    const Key = ({ size = 20 }) => (
      <svg
        width={size}
        height={size}
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        strokeWidth={2}
        strokeLinecap="round"
        strokeLinejoin="round"
      >
        <path d="M21 2l-2 2m-7.61 7.61a5.5 5.5 0 1 1-7.778 7.778 5.5 5.5 0 0 1 7.777-7.777zm0 0L15.5 7.5m0 0l3 3L22 7l-3-3m-3.5 3.5L19 4" />
      </svg>
    );

    const Activity = ({ size = 20 }) => (
      <svg
        width={size}
        height={size}
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        strokeWidth={2}
        strokeLinecap="round"
        strokeLinejoin="round"
      >
        <polyline points="22 12 18 12 15 21 9 3 6 12 2 12" />
      </svg>
    );

    const Users = ({ size = 20 }) => (
      <svg
        width={size}
        height={size}
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        strokeWidth={2}
        strokeLinecap="round"
        strokeLinejoin="round"
      >
        <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" />
        <circle cx="9" cy="7" r="4" />
        <path d="M23 21v-2a4 4 0 0 0-3-3.87" />
        <path d="M16 3.13a4 4 0 0 1 0 7.75" />
      </svg>
    );

    const FileSignature = ({ size = 20 }) => (
      <svg
        width={size}
        height={size}
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        strokeWidth={2}
        strokeLinecap="round"
        strokeLinejoin="round"
      >
        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z" />
        <polyline points="14 2 14 8 20 8" />
        <path d="M8 13h2" />
        <path d="M8 17h2" />
        <path d="M14 13h2" />
      </svg>
    );

    const Mail = ({ size = 20 }) => (
      <svg
        width={size}
        height={size}
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        strokeWidth={2}
        strokeLinecap="round"
        strokeLinejoin="round"
      >
        <rect width="20" height="16" x="2" y="4" rx="2" />
        <path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7" />
      </svg>
    );

    const DollarSign = ({ size = 20 }) => (
      <svg
        width={size}
        height={size}
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        strokeWidth={2}
        strokeLinecap="round"
        strokeLinejoin="round"
      >
        <line x1="12" y1="2" x2="12" y2="22" />
        <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6" />
      </svg>
    );

    const ClipboardList = ({ size = 20 }) => (
      <svg
        width={size}
        height={size}
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        strokeWidth={2}
        strokeLinecap="round"
        strokeLinejoin="round"
      >
        <rect width="8" height="4" x="8" y="2" rx="1" ry="1" />
        <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2" />
        <path d="M12 11h4" />
        <path d="M12 16h4" />
        <path d="M8 11h.01" />
        <path d="M8 16h.01" />
      </svg>
    );

    const UploadIcon = ({ size = 20 }) => (
      <svg
        width={size}
        height={size}
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        strokeWidth={2}
        strokeLinecap="round"
        strokeLinejoin="round"
      >
        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
        <polyline points="17 8 12 3 7 8" />
        <line x1="12" y1="3" x2="12" y2="15" />
      </svg>
    );

    const Search = ({ size = 20 }) => (
      <svg
        width={size}
        height={size}
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        strokeWidth={2}
        strokeLinecap="round"
        strokeLinejoin="round"
      >
        <circle cx="11" cy="11" r="8" />
        <path d="M21 21l-4.35-4.35" />
      </svg>
    );

    const ChevronDown = ({ size = 20 }) => (
      <svg
        width={size}
        height={size}
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        strokeWidth={2}
        strokeLinecap="round"
        strokeLinejoin="round"
      >
        <polyline points="6 9 12 15 18 9" />
      </svg>
    );

    const Download = ({ size = 20 }) => (
      <svg
        width={size}
        height={size}
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        strokeWidth={2}
        strokeLinecap="round"
        strokeLinejoin="round"
      >
        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
        <polyline points="7 10 12 15 17 10" />
        <line x1="12" y1="15" x2="12" y2="3" />
      </svg>
    );

    const Trash = ({ size = 20 }) => (
      <svg
        width={size}
        height={size}
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        strokeWidth={2}
        strokeLinecap="round"
        strokeLinejoin="round"
      >
        <polyline points="3 6 5 6 21 6" />
        <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2" />
        <line x1="10" y1="11" x2="10" y2="17" />
        <line x1="14" y1="11" x2="14" y2="17" />
      </svg>
    );

    const MessageCircle = ({ size = 20 }) => (
      <svg
        width={size}
        height={size}
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        strokeWidth={2}
        strokeLinecap="round"
        strokeLinejoin="round"
      >
        <path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z" />
      </svg>
    );

    const HelpCircle = ({ size = 20 }) => (
      <svg
        width={size}
        height={size}
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        strokeWidth={2}
        strokeLinecap="round"
        strokeLinejoin="round"
      >
        <circle cx="12" cy="12" r="10" />
        <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3" />
        <path d="M12 17h.01" />
      </svg>
    );

    const Settings = ({ size = 20 }) => (
      <svg
        width={size}
        height={size}
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        strokeWidth={2}
        strokeLinecap="round"
        strokeLinejoin="round"
      >
        <path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z" />
        <circle cx="12" cy="12" r="3" />
      </svg>
    );

    const Plus = ({ size = 20 }) => (
      <svg
        width={size}
        height={size}
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        strokeWidth={2}
        strokeLinecap="round"
        strokeLinejoin="round"
      >
        <path d="M12 5v14" />
        <path d="M5 12h14" />
      </svg>
    );

    const MoreVertical = ({ size = 20 }) => (
      <svg
        width={size}
        height={size}
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        strokeWidth={2}
        strokeLinecap="round"
        strokeLinejoin="round"
      >
        <circle cx="12" cy="12" r="1" />
        <circle cx="12" cy="5" r="1" />
        <circle cx="12" cy="19" r="1" />
      </svg>
    );

    const XIcon = ({ size = 20 }) => (
      <svg
        width={size}
        height={size}
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        strokeWidth={2}
        strokeLinecap="round"
        strokeLinejoin="round"
      >
        <line x1="18" y1="6" x2="6" y2="18" />
        <line x1="6" y1="6" x2="18" y2="18" />
      </svg>
    );

    const FileEdit = ({ size = 20 }) => (
      <svg
        width={size}
        height={size}
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        strokeWidth={2}
        strokeLinecap="round"
        strokeLinejoin="round"
      >
        <path d="M4 13.5V4a2 2 0 0 1 2-2h8.5L20 7.5V20a2 2 0 0 1-2 2h-5.5" />
        <polyline points="14 2 14 8 20 8" />
        <path d="M10.42 12.61a2.1 2.1 0 1 1 2.97 2.97L7.95 21 4 22l.99-3.95 5.43-5.44Z" />
      </svg>
    );

    const ShoppingCart = ({ size = 20 }) => (
      <svg
        width={size}
        height={size}
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        strokeWidth={2}
        strokeLinecap="round"
        strokeLinejoin="round"
      >
        <circle cx="8" cy="21" r="1" />
        <circle cx="19" cy="21" r="1" />
        <path d="M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12" />
      </svg>
    );

    function App() {
      // Parse URL parameters
      const urlParams = new URLSearchParams(window.location.search);
      const [transactionType] = useState(urlParams.get('type') || 'buy');
      const [customerName] = useState(urlParams.get('customer') || 'Customer Name');
      const [agentName] = useState(urlParams.get('agent') || 'John Doe');
      const [activeTab, setActiveTab] = useState('Documents');
      const [selectedDocs, setSelectedDocs] = useState([]);
      const [activeView, setActiveView] = useState('workspace');
      const [listingType, setListingType] = useState(null);
      const [currentStep, setCurrentStep] = useState(0);
      const [parkingType, setParkingType] = useState('');
      const [mlsPlnStatus, setMlsPlnStatus] = useState(null); // null = not created, 'draft', 'active', 'pending', etc.

      // Upload modal state
      const [showUploadModal, setShowUploadModal] = useState(false);
      const [selectedFiles, setSelectedFiles] = useState([]);
      const [isDragging, setIsDragging] = useState(false);
      const [uploadedPhotos, setUploadedPhotos] = useState([]);
      const [isModificationModalOpen, setIsModificationModalOpen] = useState(false);
      const [selectedCategoryKey, setSelectedCategoryKey] = useState('');
      const [selectedWorkflowKey, setSelectedWorkflowKey] = useState('');
      const [documentModalOpen, setDocumentModalOpen] = useState(false);
      const [documentModalWorkflowKey, setDocumentModalWorkflowKey] = useState('');
      const [documentModalMode, setDocumentModalMode] = useState('upload');
      const [documentModalFiles, setDocumentModalFiles] = useState([]);
      const [documentModalDragging, setDocumentModalDragging] = useState(false);
      const [modificationRequests, setModificationRequests] = useState([]);
      const [openRequestMenuId, setOpenRequestMenuId] = useState(null);
      const [hasAttemptedSubmit, setHasAttemptedSubmit] = useState(false);
      const [modificationForm, setModificationForm] = useState({
        flatFeePayer: 'Seller',
        flatFeeAmount: '',
        flatFeeUnit: 'dollar',
        addedAgent: '',
        addedAgentValue: '',
        addedAgentValueType: 'percent',
        clericalSalePrice: '',
        clericalClientName: '',
        referralBrokerage: '',
        referralAgentName: '',
        referralCompValue: '',
        referralCompType: 'percent',
        referralType: '',
        referralLeadName: '',
        referralNotes: '',
        intraOfficeAgent: '',
        intraOfficeReferralPercent: '',
        newCoopFeeValue: '',
        newCoopFeeType: 'percent',
        newCoopReason: '',
        salesPriceChangeValue: '',
        salesPriceChangeReason: '',
        reductionNewComp: '',
        flatFeeAllocation: {
          Buyer: true,
          Seller: true,
          Agent: false
        },
        flatFeeSplitBuyer: '200',
        flatFeeSplitSeller: '295',
        flatFeeSplitAgent: '',
        addAgentSelected: '',
        addAgentValueType: 'percent',
        addAgentValue: ''
      });

      // Form field state for MLS/PLN forms
      const [formFields, setFormFields] = useState({});
      const [formValidation, setFormValidation] = useState({});

      // Document lists by transaction type
      const documentsByType = {
        buy: [
          'Anti-Fraud Disclosure To Consumers',
          'Defining Agency',
          'Disclosure Statement of Affiliated Business Arrangement',
          'Exclusive Buyer Representation Agreement',
          'Lead Based Paint Brochure - EPA',
          'NAR Equal Opportunity in Housing',
          'Radon Testing Guidelines for Real Estate Pamphlet'
        ],
        lease: [
          'Lease Agreement',
          'Rental Application',
          'Move-in Checklist'
        ],
        list: [
          'Marketing Agreement',
          'Addendum to Marketing Agreement',
          'Commission Statement',
          'Affiliated Business Disclosure',
          'Residential Real Property Disclosure',
          'Defining Agency'
        ]
      };

      const documents = documentsByType[transactionType.toLowerCase()] || documentsByType.buy;
      const currentSalesPrice = 575000;
      const currentFlatFeeStructure = {
        total: 495,
        breakdown: [
          { payer: 'Buyer', amount: 200 },
          { payer: 'Seller', amount: 295 }
        ],
        note: 'Only the buyer, seller, or agent can pay the $495 flat fee.'
      };
      const currentCoopFee = {
        value: 2.5,
        type: 'percent',
        note: 'as of listing activation'
      };
      const currentCompensation = {
        value: 2.7,
        type: 'percent'
      };
      const flatFeeParticipants = ['Buyer', 'Seller', 'Agent'];
      const agentDirectory = [
        { name: 'Michaela White', email: 'michaela.white@example.com' },
        { name: 'Ethan Ponce', email: 'ethan.ponce@example.com' },
        { name: 'Louis Diaz', email: 'louis.diaz@example.com' },
        { name: 'Hinna Khan', email: 'hinna.khan@example.com' },
        { name: 'Joe Tyler Gerber', email: 'joe.gerber@example.com' }
      ];
      const participantLabel =
        transactionType.toLowerCase() === 'buy'
          ? 'buyer'
          : transactionType.toLowerCase() === 'list'
          ? 'seller'
          : transactionType.toLowerCase() === 'lease'
          ? 'tenant'
          : 'client';
      const currencyFormatter = new Intl.NumberFormat('en-US', { style: 'currency', currency: 'USD' });
      const flatFeePayerOptions = ['Buyer', 'Seller', 'Split between parties'];
      const brokerageDirectory = ['Compass', 'Baird & Warner', 'Coldwell Banker', 'Dream Town', 'Properties Residential'];
      const referralTypes = ['eBusiness', 'Relo', 'Military'];

      const workflowDetails = {
        'sales-price-change': {
          title: 'Sales Price Change',
          choiceLabel: 'Change Sales Price',
          experienceKey: 'salesPriceChange',
          requiresDocument: true,
          documentTitle: 'Signed amendment / modification form'
        },
        'co-op-fee-change': {
          title: 'Change Co-op Listing Fee',
          choiceLabel: 'Change Co-op Listing Fee',
          experienceKey: 'coopFeeChange',
          requiresDocument: true,
          documentTitle: 'Amendment or modification form'
        },
        'compensation-reduction': {
          title: 'Compensation: Reduction of Agent Compensation',
          choiceLabel: 'Reduction of Agent Compensation',
          experienceKey: 'reductionComp',
          requiresDocument: false
        },
        'compensation-flat-fee-payer': {
          title: 'Compensation changes: Flat Fee Allocation',
          choiceLabel: 'Flat Fee Allocation',
          experienceKey: 'flatFeeChange',
          requiresDocument: false
        },
        'compensation-gross': {
          title: 'Compensation: Change to Gross Compensation',
          choiceLabel: 'Change to Gross Compensation',
          experienceKey: 'tbd',
          requiresDocument: false
        },
        'compensation-add-agent': {
          title: 'Compensation: Adding an Agent to the Deal',
          choiceLabel: 'Adding an Agent to the Deal',
          experienceKey: 'addAgent',
          requiresDocument: false
        },
        'referral-outside-broker': {
          title: 'Referral: Add Outside Broker',
          choiceLabel: 'Add an Outside Broker',
          experienceKey: 'referralOutside',
          requiresDocument: true,
          documentTitle: 'Signed referral agreement'
        },
        'referral-intra-office': {
          title: 'Referral: Intra-office referral',
          choiceLabel: 'Intra-Office',
          experienceKey: 'referralIntra',
          requiresDocument: true,
          documentTitle: 'Intra-office referral form'
        },
        'referral-bw': {
          title: 'Referral: B&W Referral',
          choiceLabel: 'B&W Referral',
          experienceKey: 'referralBw',
          requiresDocument: false
        },
        'clerical-sale-price': {
          title: 'Clerical correction: Sale price',
          choiceLabel: 'Sale price',
          experienceKey: 'clericalSalePrice',
          requiresDocument: false
        },
        'clerical-client-name': {
          title: 'Clerical correction: Client name',
          choiceLabel: 'Client name',
          experienceKey: 'clericalClientName',
          requiresDocument: false
        }
      };

      const modificationCategories = [
        { key: 'sales-price', label: 'Change Sales Price', options: ['sales-price-change'] },
        { key: 'coop-fee', label: 'Change Co-op Listing Fee', options: ['co-op-fee-change'] },
        {
          key: 'compensation',
          label: 'Compensation Change',
          options: ['compensation-reduction', 'compensation-flat-fee-payer', 'compensation-gross', 'compensation-add-agent']
        },
        { key: 'referral', label: 'Add Referral', options: ['referral-outside-broker', 'referral-intra-office', 'referral-bw'] },
        { key: 'clerical', label: 'Clerical Correction', options: ['clerical-sale-price', 'clerical-client-name'] }
      ];

      // PLN Form Sections
      const plnSections = [
        { id: 1, title: 'BASIC INFO', fields: ['Area', 'Street Number', 'Compass Point', 'Street Name', 'Street Suffix', 'Unit Number', 'City', 'State', 'Zip Code', 'County', 'List Price', 'Minimum List Price', 'Maximum List Price', 'Expiration Date', 'Showing Y/N', 'List Broker ID', 'List Office ID', 'Co-Lister ID', 'Can this listing be shared with clients?', 'Is property also listed for rent?'] },
        { id: 2, title: 'GENERAL', fields: ['New Construction', 'Anticipated activation date'] },
        { id: 3, title: 'EXTERIOR FEATURES', fields: ['Lot Dimensions', 'Lot size Source'] },
        { id: 4, title: 'INTERIOR FEATURES', fields: ['# of Bedrooms', '# Full Baths'] },
        { id: 5, title: 'ROOM DETAILS', fields: ['Living Room Size'] },
        { id: 6, title: 'UTILITIES/GREEN', fields: ['Air Conditioning', 'Water'] },
        { id: 7, title: 'TAX/ASSESSMENT', fields: ['Tax Year', 'Tax Exemptions'] },
        { id: 8, title: 'OFFICE/SALES INFO', fields: ['Showings Y/N', 'Showing Instructions'] }
      ];

      // MLS Form Sections
      const mlsSections = [
        { id: 1, title: 'BASIC INFO', fields: ['Is property also listed for rent?', 'Area', 'Street Number', 'Compass Point', 'Street Name', 'Street Suffix', 'Unit Number', 'City', 'State', 'Zip Code', 'Additional Zip', 'Parcel Identification Number', 'Multiple Pin Numbers', 'County', 'Township', 'Corporate Limits', 'List Price', 'List Date', 'Expiration Date', 'List Agent ID', 'List Office ID', 'Co-Lister ID', 'Allow Co-Lister to Edit'] },
        { id: 2, title: 'GENERAL', fields: ['Directions', 'Schools', 'Ownership', 'Year Built', 'Property Details'] },
        { id: 3, title: 'EXTERIOR FEATURES', fields: ['Lot Dimensions', 'Exterior Building Type', 'Parking'] },
        { id: 4, title: 'INTERIOR FEATURES', fields: ['Unit Floor Level', 'Approx Sq Ft', '# Bedrooms', '# Full Baths', '# Half Baths', 'Master Bedroom Bath', 'Basement'] },
        { id: 5, title: 'ROOM DETAILS', fields: ['Living Room', 'Dining Room', 'Kitchen', 'Family Room', 'Master Bedroom', '2nd Bedroom'] },
        { id: 6, title: 'UTILITIES/GREEN', fields: ['Air Conditioning', 'Water', 'Sewer', 'Electricity', 'Heat/Fuel'] },
        { id: 7, title: 'TAX/ASSESSMENT', fields: ['Tax Year', 'Tax Exemptions', 'Primary Parcel Tax Amount', 'Total Taxes', 'Special Assessments'] },
        { id: 8, title: 'OFFICE/SALES INFO', fields: ['Listing Type', 'Agent Owned/Interest', 'Holds Earnest Money', 'Lock Box Type', 'Showing Instructions'] }
      ];

      const formSections = listingType === 'mls' ? mlsSections : plnSections;

      const handleBackClick = () => {
        window.history.back();
      };

      // Validation helper functions
      const validateEmail = (email) => {
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        return emailRegex.test(email);
      };

      const formatPhoneNumber = (value) => {
        // Remove all non-digits
        const phoneNumber = value.replace(/\D/g, '');

        // Format as (XXX) XXX-XXXX
        if (phoneNumber.length <= 3) {
          return phoneNumber;
        } else if (phoneNumber.length <= 6) {
          return `(${phoneNumber.slice(0, 3)}) ${phoneNumber.slice(3)}`;
        } else {
          return `(${phoneNumber.slice(0, 3)}) ${phoneNumber.slice(3, 6)}-${phoneNumber.slice(6, 10)}`;
        }
      };

      const validatePhone = (phone) => {
        const phoneDigits = phone.replace(/\D/g, '');
        return phoneDigits.length === 10;
      };

      const handleFieldChange = (fieldName, value) => {
        // Handle phone number formatting
        if (fieldName.toLowerCase().includes('phone')) {
          const formatted = formatPhoneNumber(value);
          setFormFields(prev => ({ ...prev, [fieldName]: formatted }));

          // Validate phone
          if (value.length > 0) {
            setFormValidation(prev => ({
              ...prev,
              [fieldName]: validatePhone(formatted) ? null : 'Invalid phone number'
            }));
          } else {
            setFormValidation(prev => ({ ...prev, [fieldName]: null }));
          }
        }
        // Handle email validation
        else if (fieldName.toLowerCase().includes('email')) {
          setFormFields(prev => ({ ...prev, [fieldName]: value }));

          // Validate email
          if (value.length > 0) {
            setFormValidation(prev => ({
              ...prev,
              [fieldName]: validateEmail(value) ? null : 'Invalid email'
            }));
          } else {
            setFormValidation(prev => ({ ...prev, [fieldName]: null }));
          }
        } else {
          setFormFields(prev => ({ ...prev, [fieldName]: value }));
        }
      };

      // Upload modal handlers
      const handleUploadClick = () => {
        setSelectedFiles([]);
        setShowUploadModal(true);
      };

      const handleCloseModal = () => {
        setShowUploadModal(false);
        setSelectedFiles([]);
        setIsDragging(false);
      };

      const handleFileSelect = (e) => {
        const files = Array.from(e.target.files);
        setSelectedFiles(prev => [...prev, ...files]);
      };

      const handleDragOver = (e) => {
        e.preventDefault();
        setIsDragging(true);
      };

      const handleDragLeave = (e) => {
        e.preventDefault();
        setIsDragging(false);
      };

      const handleDrop = (e) => {
        e.preventDefault();
        setIsDragging(false);
        const files = Array.from(e.dataTransfer.files);
        setSelectedFiles(prev => [...prev, ...files]);
      };

      const handleRemoveFile = (index) => {
        setSelectedFiles(prev => prev.filter((_, i) => i !== index));
      };

      const handleRemoveUploadedPhoto = (index) => {
        setUploadedPhotos(prev => prev.filter((_, i) => i !== index));
      };

      const formatFileSize = (bytes) => {
        if (bytes === 0) return '0 Bytes';
        const k = 1024;
        const sizes = ['Bytes', 'KB', 'MB', 'GB'];
        const i = Math.floor(Math.log(bytes) / Math.log(k));
        return Math.round(bytes / Math.pow(k, i) * 10) / 10 + ' ' + sizes[i];
      };

      const handleUploadSubmit = () => {
        if (selectedFiles.length > 0) {
          setUploadedPhotos(prev => [...prev, ...selectedFiles]);
        }
        // Handle file upload logic here
        handleCloseModal();
      };

      const handleDownload = (docName) => {
        console.log('Download:', docName);
        alert(`Download: ${docName}`);
      };

      const handleDelete = (docName) => {
        console.log('Delete:', docName);
        alert(`Delete: ${docName}`);
      };

      const handleBulkAction = (e) => {
        const action = e.target.value;
        if (action) {
          console.log('Bulk action:', action, 'for documents:', selectedDocs);
          alert(`Action "${action}" will be implemented for ${selectedDocs.length} selected document(s)`);
          // Reset the dropdown
          e.target.value = '';
        }
      };

      const handleSelectAll = (e) => {
        if (e.target.checked) {
          setSelectedDocs(documents);
        } else {
          setSelectedDocs([]);
        }
      };

      const handleSelectDoc = (doc) => {
        if (selectedDocs.includes(doc)) {
          setSelectedDocs(selectedDocs.filter(d => d !== doc));
        } else {
          setSelectedDocs([...selectedDocs, doc]);
        }
      };

      const handleAddModificationRequest = () => {
        setSelectedCategoryKey('');
        setSelectedWorkflowKey('');
        setIsModificationModalOpen(true);
        setHasAttemptedSubmit(false);
      };

      const handleCloseModificationModal = () => {
        setIsModificationModalOpen(false);
        setSelectedCategoryKey('');
        setSelectedWorkflowKey('');
        setHasAttemptedSubmit(false);
      };

      const handleCategoryChange = (value) => {
        setSelectedCategoryKey(value);
        const category = modificationCategories.find(cat => cat.key === value);
        if (category) {
          if (category.options.length === 1) {
            setSelectedWorkflowKey(category.options[0]);
          } else {
            setSelectedWorkflowKey('');
          }
        } else {
          setSelectedWorkflowKey('');
        }
      };

      const handleWorkflowChange = (value) => {
        setSelectedWorkflowKey(value);
      };

      useEffect(() => {
        if (!selectedCategoryKey) return;
        const category = modificationCategories.find(cat => cat.key === selectedCategoryKey);
        if (!category || category.options.length !== 1) return;
        const defaultWorkflow = category.options[0];
        if (selectedWorkflowKey !== defaultWorkflow) {
          setSelectedWorkflowKey(defaultWorkflow);
        }
      }, [selectedCategoryKey, selectedWorkflowKey]);

      const updateModificationForm = (field, value) => {
        setModificationForm(prev => ({ ...prev, [field]: value }));
      };

      const openDocumentModal = (workflowKey) => {
        setDocumentModalWorkflowKey(workflowKey);
        setDocumentModalMode('upload');
        setDocumentModalFiles([]);
        setDocumentModalDragging(false);
        setDocumentModalOpen(true);
      };

      const closeDocumentModal = () => {
        setDocumentModalOpen(false);
        setDocumentModalFiles([]);
        setDocumentModalDragging(false);
      };

      const handleDocumentModalFileSelect = (e) => {
        const files = Array.from(e.target.files || []);
        if (files.length > 0) {
          setDocumentModalFiles(prev => [...prev, ...files]);
        }
      };

      const handleDocumentModalDragOver = (e) => {
        e.preventDefault();
        setDocumentModalDragging(true);
      };

      const handleDocumentModalDragLeave = (e) => {
        e.preventDefault();
        setDocumentModalDragging(false);
      };

      const handleDocumentModalDrop = (e) => {
        e.preventDefault();
        setDocumentModalDragging(false);
        const files = Array.from(e.dataTransfer?.files || []);
        if (files.length > 0) {
          setDocumentModalFiles(prev => [...prev, ...files]);
        }
      };

      const handleDocumentModalRemoveFile = (index) => {
        setDocumentModalFiles(prev => prev.filter((_, i) => i !== index));
      };

      const handleSubmitModification = () => {
        setHasAttemptedSubmit(true);
        if (!resolvedWorkflowKey) return;
        const { newValueFilled, reasonFilled } = getRequiredFieldStatus(resolvedWorkflowKey);
        if (!newValueFilled || !reasonFilled) return;
        const summary = summarizeModification(resolvedWorkflowKey);
        const timestamp = new Date().toLocaleString('en-US', { month: 'short', day: 'numeric', year: 'numeric', hour: 'numeric', minute: 'numeric' });
        const newRequest = {
          id: Date.now(),
          type: resolvedWorkflow?.title || 'Modification Request',
          date: timestamp,
          oldValue: summary.oldValue,
          newValue: summary.newValue
        };
        setModificationRequests(prev => [newRequest, ...prev]);
        setIsModificationModalOpen(false);
        setActiveView('modification-tracker');
        setActiveTab('Documents');
        setOpenRequestMenuId(null);
        setHasAttemptedSubmit(false);
      };

      const toggleRequestMenu = (id) => {
        setOpenRequestMenuId(prev => (prev === id ? null : id));
      };

      const handleDeleteRequest = (id) => {
        setModificationRequests(prev => prev.filter(request => request.id !== id));
        setOpenRequestMenuId(null);
      };

      const summarizeModification = (workflowKey) => {
        switch (workflowKey) {
          case 'sales-price-change':
            return {
              oldValue: currencyFormatter.format(currentSalesPrice),
              newValue: modificationForm.salesPriceChangeValue
                ? currencyFormatter.format(parseFloat(modificationForm.salesPriceChangeValue))
                : 'Pending entry'
            };
          case 'co-op-fee-change':
            return {
              oldValue: currentCoopFee.type === 'percent' ? `${currentCoopFee.value}%` : currencyFormatter.format(currentCoopFee.value),
              newValue: modificationForm.newCoopFeeValue
                ? modificationForm.newCoopFeeType === 'percent'
                  ? `${modificationForm.newCoopFeeValue}%`
                  : currencyFormatter.format(parseFloat(modificationForm.newCoopFeeValue))
                : 'Pending entry'
            };
          case 'compensation-reduction':
            return {
              oldValue: `${currentCompensation.value}%`,
              newValue: modificationForm.reductionNewComp ? `${modificationForm.reductionNewComp}%` : 'Pending entry'
            };
          case 'compensation-flat-fee-payer':
            return {
              oldValue: currentFlatFeeStructure.breakdown
                .map(item => `${item.payer} ${currencyFormatter.format(item.amount)}`)
                .join(', '),
              newValue: Object.entries(modificationForm.flatFeeAllocation)
                .filter(([_, checked]) => checked)
                .map(([participant]) => {
                  if (participant === 'Buyer') return `${participant} ${currencyFormatter.format(parseFloat(modificationForm.flatFeeSplitBuyer) || 0)}`;
                  if (participant === 'Seller') return `${participant} ${currencyFormatter.format(parseFloat(modificationForm.flatFeeSplitSeller) || 0)}`;
                  if (participant === 'Agent') return `${participant} ${currencyFormatter.format(parseFloat(modificationForm.flatFeeSplitAgent) || 0)}`;
                  return participant;
                })
                .join(', ')
            };
          case 'compensation-add-agent':
            return {
              oldValue: 'No secondary agent',
              newValue:
                modificationForm.addAgentSelected
                  ? `${modificationForm.addAgentSelected} · ${
                      modificationForm.addAgentValueType === 'percent'
                        ? `${modificationForm.addAgentValue || 0}%`
                        : currencyFormatter.format(parseFloat(modificationForm.addAgentValue || 0))
                    }`
                  : 'Pending agent selection'
            };
          default:
            return {
              oldValue: '-',
              newValue: '-'
            };
        }
      };

      const isValueProvided = (value) => {
        if (value === null || value === undefined) return false;
        return value.toString().trim() !== '';
      };

      const getRequiredFieldStatus = (workflowKey) => {
        switch (workflowKey) {
          case 'sales-price-change':
            return {
              newValueFilled: isValueProvided(modificationForm.salesPriceChangeValue),
              reasonFilled: isValueProvided(modificationForm.salesPriceChangeReason)
            };
          case 'co-op-fee-change':
            return {
              newValueFilled: isValueProvided(modificationForm.newCoopFeeValue),
              reasonFilled: isValueProvided(modificationForm.newCoopReason)
            };
          default:
            return { newValueFilled: true, reasonFilled: true };
        }
      };

      const isAllSelected = documents.length > 0 && selectedDocs.length === documents.length;
      const selectedCategory = modificationCategories.find(cat => cat.key === selectedCategoryKey);
      const availableWorkflows = selectedCategory ? selectedCategory.options : [];
      const selectedWorkflow = workflowDetails[selectedWorkflowKey];
      const resolvedWorkflowKey =
        selectedWorkflowKey ||
        (selectedCategory && selectedCategory.options.length === 1 ? selectedCategory.options[0] : '');
      const resolvedWorkflow = resolvedWorkflowKey ? workflowDetails[resolvedWorkflowKey] : null;
      const requiredFieldStatus = getRequiredFieldStatus(resolvedWorkflowKey);
      const isSubmitDisabled =
        !resolvedWorkflowKey ||
        !requiredFieldStatus.newValueFilled ||
        !requiredFieldStatus.reasonFilled;
      const coopNewValueMissing =
        hasAttemptedSubmit &&
        resolvedWorkflowKey === 'co-op-fee-change' &&
        !isValueProvided(modificationForm.newCoopFeeValue);
      const coopReasonMissing =
        hasAttemptedSubmit &&
        resolvedWorkflowKey === 'co-op-fee-change' &&
        !isValueProvided(modificationForm.newCoopReason);
      const salesPriceNewValueMissing =
        hasAttemptedSubmit &&
        resolvedWorkflowKey === 'sales-price-change' &&
        !isValueProvided(modificationForm.salesPriceChangeValue);
      const salesPriceReasonMissing =
        hasAttemptedSubmit &&
        resolvedWorkflowKey === 'sales-price-change' &&
        !isValueProvided(modificationForm.salesPriceChangeReason);
      const totalFlatFee = 495;
      const participantDisplayName = participantLabel.charAt(0).toUpperCase() + participantLabel.slice(1);
      const parsedClericalSalePrice =
        modificationForm.clericalSalePrice && !isNaN(parseFloat(modificationForm.clericalSalePrice.replace(/[^0-9.]/g, '')))
          ? parseFloat(modificationForm.clericalSalePrice.replace(/[^0-9.]/g, ''))
          : null;
      const isRealSalePriceChange =
        selectedWorkflowKey === 'clerical-sale-price' &&
        parsedClericalSalePrice !== null &&
        Math.abs(parsedClericalSalePrice - currentSalesPrice) >= 1000;
      const isAnyModalOpen = isModificationModalOpen || documentModalOpen || showUploadModal;

      useEffect(() => {
        if (typeof document === 'undefined') return;
        const originalOverflow = document.body.style.overflow;
        if (isAnyModalOpen) {
          document.body.style.overflow = 'hidden';
        } else {
          document.body.style.overflow = originalOverflow || '';
        }
        return () => {
          document.body.style.overflow = originalOverflow || '';
        };
      }, [isAnyModalOpen]);

      const renderExperienceContent = (workflow) => {
        if (!workflow) {
          return (
            <p className="text-sm text-gray-600">
              Select a modification to review the guided workflow.
            </p>
          );
        }

        switch (workflow.experienceKey) {
          case 'reductionComp':
            const newCompValue = parseFloat(modificationForm.reductionNewComp);
            const isBelowStandard = !isNaN(newCompValue) && newCompValue < 2.5;
            const isIncrease = !isNaN(newCompValue) && newCompValue > currentCompensation.value;
            return (
              <div className="space-y-4">
                <div className="bg-gray-50 border border-gray-200 rounded-lg p-4 flex items-center justify-between">
                  <div>
                    <p className="text-xs text-gray-500 uppercase tracking-wide">Current compensation</p>
                    <p className="text-lg font-semibold text-gray-900">
                      {currentCompensation.type === 'percent'
                        ? `${currentCompensation.value}%`
                        : currencyFormatter.format(currentCompensation.value)}
                    </p>
                  </div>
                </div>
                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-1">New compensation %</label>
                  <input
                    type="number"
                    step="0.01"
                    value={modificationForm.reductionNewComp}
                    onChange={e => updateModificationForm('reductionNewComp', e.target.value)}
                    placeholder="Enter new compensation %"
                    className="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none dkfocus:border-blue-600"
                  />
                </div>
                {isIncrease && (
                  <div className="bg-blue-50 border border-blue-200 text-blue-900 text-sm rounded-lg p-3">
                    This increases compensation above the current value. It will be routed for standard compliance review.
                  </div>
                )}
                {isBelowStandard && (
                  <div className="bg-yellow-50 border border-yellow-200 text-yellow-900 text-sm rounded-lg p-3">
                    Compensation is below the 2.5% company standard. Your managing broker will need to review and approve.
                  </div>
                )}
              </div>
            );
          case 'flatFeeChange':
            const selectedFlatFeePayers = Object.entries(modificationForm.flatFeeAllocation).filter(([_, checked]) => checked);
            const requiresFlatFeeSplit = selectedFlatFeePayers.length > 1;
            const getParticipantValue = (participant) => {
              if (participant === 'Buyer') return parseFloat(modificationForm.flatFeeSplitBuyer) || 0;
              if (participant === 'Seller') return parseFloat(modificationForm.flatFeeSplitSeller) || 0;
              if (participant === 'Agent') return parseFloat(modificationForm.flatFeeSplitAgent) || 0;
              return 0;
            };
            const flatFeeSum = requiresFlatFeeSplit
              ? selectedFlatFeePayers.reduce((total, [participant]) => total + getParticipantValue(participant), 0)
              : totalFlatFee;
            const isFlatFeeSumValid = !requiresFlatFeeSplit || Math.abs(flatFeeSum - totalFlatFee) < 0.01;
            return (
              <div className="space-y-4">
                <div className="bg-gray-50 border border-gray-200 rounded-lg p-4">
                  <p className="text-sm text-gray-500">Current flat fee structure</p>
                  <div className="text-lg font-semibold text-gray-900 mt-1">
                    {currencyFormatter.format(currentFlatFeeStructure.total)} ·{' '}
                    {currentFlatFeeStructure.breakdown
                      .map(item => `${item.payer} ${currencyFormatter.format(item.amount)}`)
                      .join(', ')}
                  </div>
                  <p className="text-sm text-gray-500">
                    {currentFlatFeeStructure.note}
                  </p>
                </div>
                <div>
                  <p className="text-sm font-semibold text-gray-700 mb-2">Who will pay the flat fee?</p>
                  <div className="flex flex-wrap gap-3">
                    {flatFeeParticipants.map(participant => (
                      <label
                        key={participant}
                        className={`flex items-center gap-2 px-4 py-2 border rounded-lg cursor-pointer ${
                          modificationForm.flatFeeAllocation[participant]
                            ? 'border-blue-600 bg-blue-50 text-blue-700'
                            : 'border-gray-300 text-gray-700'
                        }`}
                      >
                        <input
                          type="checkbox"
                          checked={modificationForm.flatFeeAllocation[participant]}
                          onChange={e =>
                            updateModificationForm('flatFeeAllocation', {
                              ...modificationForm.flatFeeAllocation,
                              [participant]: e.target.checked
                            })
                          }
                        />
                        <span>{participant}</span>
                      </label>
                    ))}
                  </div>
                </div>
                {requiresFlatFeeSplit && (
                  <div className="space-y-3">
                    <p className="text-sm text-gray-600">
                      Allocate the $495 amount across the selected parties.
                    </p>
                    {flatFeeParticipants.map(participant => {
                      if (!modificationForm.flatFeeAllocation[participant]) return null;
                      return (
                        <div key={participant}>
                          <label className="block text-sm font-medium text-gray-700 mb-1">{participant} allocation</label>
                          <input
                            type="number"
                            value={
                              participant === 'Buyer'
                                ? modificationForm.flatFeeSplitBuyer
                                : participant === 'Seller'
                                ? modificationForm.flatFeeSplitSeller
                                : modificationForm.flatFeeSplitAgent
                            }
                            onChange={e =>
                              updateModificationForm(
                                participant === 'Buyer'
                                  ? 'flatFeeSplitBuyer'
                                  : participant === 'Seller'
                                  ? 'flatFeeSplitSeller'
                                  : 'flatFeeSplitAgent',
                                e.target.value
                              )
                            }
                            placeholder={`Enter amount out of $${totalFlatFee}`}
                            className="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:border-blue-600"
                          />
                        </div>
                      );
                    })}
                    {!isFlatFeeSumValid && (
                      <div className="bg-red-50 border border-red-200 text-red-700 text-sm rounded-lg p-3">
                        Allocation must total ${totalFlatFee}. You’re currently at ${flatFeeSum.toFixed(2)}.
                      </div>
                    )}
                  </div>
                )}
              </div>
            );
          case 'addAgent':
            return (
              <div className="space-y-4">
                <p className="text-sm text-gray-600">
                  Select the B&W agent you want to add to the deal, then determine their allocation as a dollar amount or percentage.
                </p>
                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-1">Agent roster</label>
                  <select
                    value={modificationForm.addAgentSelected}
                    onChange={e => updateModificationForm('addAgentSelected', e.target.value)}
                    className="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:border-blue-600"
                  >
                    <option value="">Select an agent</option>
                    {agentDirectory.slice(0, 5).map(agent => (
                      <option key={agent.email} value={agent.email}>
                        {agent.name}
                      </option>
                    ))}
                  </select>
                </div>
                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                  <div>
                    <label className="block text-sm font-medium text-gray-700 mb-1">Allocation type</label>
                    <select
                      value={modificationForm.addAgentValueType}
                      onChange={e => updateModificationForm('addAgentValueType', e.target.value)}
                      className="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:border-blue-600"
                    >
                      <option value="percent">% of deal</option>
                      <option value="dollar">$ amount</option>
                    </select>
                  </div>
                  <div>
                    <label className="block text-sm font-medium text-gray-700 mb-1">Allocation value</label>
                    <input
                      type="number"
                      value={modificationForm.addAgentValue}
                      onChange={e => updateModificationForm('addAgentValue', e.target.value)}
                      placeholder={modificationForm.addAgentValueType === 'percent' ? '20' : '2500'}
                      className="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:border-blue-600"
                    />
                  </div>
                </div>
              </div>
            );
          case 'clericalSalePrice':
            return (
              <div className="space-y-4">
                <p className="text-sm font-medium text-gray-900">What is the correct sales price?</p>
                <div className="flex items-center justify-between bg-gray-50 border border-gray-200 rounded-lg p-3">
                  <span className="text-sm text-gray-600">Original sales price</span>
                  <span className="text-base font-semibold text-gray-900">{currencyFormatter.format(currentSalesPrice)}</span>
                </div>
                <div className="bg-yellow-50 border border-yellow-200 text-yellow-900 text-sm rounded-lg p-3">
                  This section is only for fixing typos. If the sales price is actually changing, please use
                  {' '}
                  <span className="font-semibold">Sales Price Change</span> under the main menu.
                </div>
                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-1">Corrected sales price</label>
                  <input
                    type="number"
                    value={modificationForm.clericalSalePrice}
                    onChange={e => updateModificationForm('clericalSalePrice', e.target.value)}
                    placeholder={currentSalesPrice}
                    className="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:border-blue-600"
                  />
                </div>
                {isRealSalePriceChange && (
                  <div className="bg-red-50 border border-red-200 text-red-700 text-sm rounded-lg p-3">
                    It looks like the new amount differs significantly from the recorded sales price of{' '}
                    <strong>{currencyFormatter.format(currentSalesPrice)}</strong>. Please submit this as a Sales Price Change.
                  </div>
                )}
                {!isRealSalePriceChange && parsedClericalSalePrice !== null && (
                  <div className="bg-green-50 border border-green-200 text-green-700 text-sm rounded-lg p-3">
                    Looks good — this will be processed as a typo correction.
                  </div>
                )}
              </div>
            );
          case 'clericalClientName':
            return (
              <div className="space-y-4">
                <p className="text-sm font-medium text-gray-900">What is the correct {participantDisplayName} name?</p>
                <div className="bg-yellow-50 border border-yellow-200 text-yellow-900 text-sm rounded-lg p-3">
                  This section is only for fixing typos. If this is a new client, please create a new transaction.
                </div>
                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-1">Corrected {participantDisplayName} name</label>
                  <input
                    type="text"
                    value={modificationForm.clericalClientName}
                    onChange={e => updateModificationForm('clericalClientName', e.target.value)}
                    placeholder={`Enter the correct ${participantDisplayName} name`}
                    className="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:border-blue-600"
                  />
                </div>
              </div>
            );
          case 'referralOutside':
            return (
              <div className="space-y-4">
                <p className="text-sm text-gray-600">Mirror the intake experience to capture referral details.</p>
                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-1">Brokerage Name</label>
                  <select
                    value={modificationForm.referralBrokerage}
                    onChange={e => updateModificationForm('referralBrokerage', e.target.value)}
                    className="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:border-blue-600"
                  >
                    <option value="">Select brokerage</option>
                    {brokerageDirectory.map(brokerage => (
                      <option key={brokerage} value={brokerage}>
                        {brokerage}
                      </option>
                    ))}
                  </select>
                </div>
                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-1">Agent Name</label>
                  <input
                    type="text"
                    value={modificationForm.referralAgentName}
                    onChange={e => updateModificationForm('referralAgentName', e.target.value)}
                    placeholder="Enter referring agent name"
                    className="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:border-blue-600"
                  />
                </div>
                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                  <div>
                    <label className="block text-sm font-medium text-gray-700 mb-1">Referral value</label>
                    <input
                      type="number"
                      value={modificationForm.referralCompValue}
                      onChange={e => updateModificationForm('referralCompValue', e.target.value)}
                      placeholder="25"
                      className="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:border-blue-600"
                    />
                  </div>
                  <div>
                    <label className="block text-sm font-medium text-gray-700 mb-1">Unit</label>
                    <select
                      value={modificationForm.referralCompType}
                      onChange={e => updateModificationForm('referralCompType', e.target.value)}
                      className="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:border-blue-600"
                    >
                      <option value="percent">% of commission</option>
                      <option value="dollar">$ amount</option>
                    </select>
                  </div>
                </div>
                <div className="flex flex-wrap items-center gap-3">
                  <button
                    type="button"
                    className="px-4 py-2 rounded-lg border border-blue-600 text-sm font-medium text-blue-600 hover:bg-blue-50"
                  >
                    Request W-9 via Max
                  </button>
                </div>
              </div>
            );
          case 'referralIntra':
            return (
              <div className="space-y-4">
                <p className="text-sm text-gray-600">Capture intra-office referral information and supporting documentation.</p>
                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-1">Referring B&W agent</label>
                  <select
                    value={modificationForm.intraOfficeAgent}
                    onChange={e => updateModificationForm('intraOfficeAgent', e.target.value)}
                    className="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:border-blue-600"
                  >
                    <option value="">Select an agent</option>
                    {agentDirectory.map(agent => (
                      <option key={agent.email} value={agent.email}>
                        {agent.name}
                      </option>
                    ))}
                  </select>
                </div>
                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-1">Referral %</label>
                  <input
                    type="number"
                    value={modificationForm.intraOfficeReferralPercent}
                    onChange={e => updateModificationForm('intraOfficeReferralPercent', e.target.value)}
                    placeholder="25"
                    className="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:border-blue-600"
                  />
                </div>
              </div>
            );
          case 'referralBw':
            return (
              <div className="space-y-4">
                <p className="text-sm text-gray-600">Capture referral type and follow the intake-style prompts.</p>
                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                  <div>
                    <label className="block text-sm font-medium text-gray-700 mb-1">Referral type</label>
                    <select
                      value={modificationForm.referralType}
                      onChange={e => updateModificationForm('referralType', e.target.value)}
                      className="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:border-blue-600"
                    >
                      <option value="">Select type</option>
                      {referralTypes.map(type => (
                        <option key={type} value={type}>
                          {type}
                        </option>
                      ))}
                    </select>
                  </div>
                  <div>
                    <label className="block text-sm font-medium text-gray-700 mb-1">Referral lead name</label>
                    <input
                      type="text"
                      value={modificationForm.referralLeadName || ''}
                      onChange={e => updateModificationForm('referralLeadName', e.target.value)}
                      placeholder="Client full name"
                      className="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:border-blue-600"
                    />
                  </div>
                </div>
                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-1">Notes</label>
                  <textarea
                    value={modificationForm.referralNotes || ''}
                    onChange={e => updateModificationForm('referralNotes', e.target.value)}
                    rows={3}
                    placeholder="Add context, handoff details, or supporting information"
                    className="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:border-blue-600"
                  />
                </div>
              </div>
            );
          case 'coopFeeChange':
            return (
              <div className="space-y-4">
                <p className="text-sm text-gray-600">Enter the new co-op fee details and the reason for this change.</p>
                <div className="flex items-center justify-between bg-gray-50 border border-gray-200 rounded-lg p-3">
                  <span className="text-sm text-gray-600">Current co-op fee</span>
                  <span className="text-base font-semibold text-gray-900">
                    {currentCoopFee.type === 'percent'
                      ? `${currentCoopFee.value}%`
                      : currencyFormatter.format(currentCoopFee.value)}
                  </span>
                </div>
                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                  <div>
                    <label className="block text-sm font-medium text-gray-700 mb-1">What is the new co-op fee?</label>
                    <input
                      type="number"
                      value={modificationForm.newCoopFeeValue}
                      onChange={e => updateModificationForm('newCoopFeeValue', e.target.value)}
                      placeholder="2.5"
                      className={`w-full border rounded-lg px-3 py-2 focus:outline-none ${
                        coopNewValueMissing ? 'border-red-500 focus:border-red-500' : 'border-gray-300 focus:border-blue-600'
                      }`}
                    />
                    {coopNewValueMissing && (
                      <p className="mt-1 text-xs text-red-600">Enter the updated co-op fee before submitting.</p>
                    )}
                  </div>
                  <div>
                    <label className="block text-sm font-medium text-gray-700 mb-1">Unit</label>
                    <select
                      value={modificationForm.newCoopFeeType}
                      onChange={e => updateModificationForm('newCoopFeeType', e.target.value)}
                      className="w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:border-blue-600"
                    >
                      <option value="percent">% of sale price</option>
                      <option value="dollar">$ amount</option>
                    </select>
                  </div>
                </div>
                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-1">Reason for change</label>
                  <textarea
                    value={modificationForm.newCoopReason}
                    onChange={e => updateModificationForm('newCoopReason', e.target.value)}
                    rows={3}
                    className={`w-full border rounded-lg px-3 py-2 focus:outline-none ${
                      coopReasonMissing ? 'border-red-500 focus:border-red-500' : 'border-gray-300  focus:border-blue-600'
                    }`}
                    placeholder="Explain why the co-op fee is changing"
                  />
                  {coopReasonMissing && (
                    <p className="mt-1 text-xs text-red-600">Share the reason for this change.</p>
                  )}
                </div>
              </div>
            );
          case 'salesPriceChange':
            return (
              <div className="space-y-4">
                <p className="text-sm text-gray-600">
                  Provide the updated sales price and reason for change. Attach your price change modification form before submitting the request.
                </p>
                <div className="flex items-center justify-between bg-gray-50 border border-gray-200 rounded-lg p-3">
                  <span className="text-sm text-gray-600">Original sales price</span>
                  <span className="text-base font-semibold text-gray-900">{currencyFormatter.format(currentSalesPrice)}</span>
                </div>
                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                  <div>
                    <label className="block text-sm font-medium text-gray-700 mb-1">Updated sales price</label>
                    <input
                      type="number"
                      value={modificationForm.salesPriceChangeValue}
                      onChange={e => updateModificationForm('salesPriceChangeValue', e.target.value)}
                      placeholder={currentSalesPrice}
                      className={`w-full border rounded-lg px-3 py-2 focus:outline-none ${
                        salesPriceNewValueMissing ? 'border-red-500 focus:border-red-500' : 'border-gray-300 focus:border-blue-600'
                      }`}
                    />
                    {salesPriceNewValueMissing && (
                      <p className="mt-1 text-xs text-red-600">Provide the new sales price.</p>
                    )}
                  </div>
                </div>
                <div>
                  <label className="block text-sm font-medium text-gray-700 mb-1">Reason for change</label>
                  <textarea
                    value={modificationForm.salesPriceChangeReason}
                    onChange={e => updateModificationForm('salesPriceChangeReason', e.target.value)}
                    rows={3}
                    className={`w-full border rounded-lg px-3 py-2 focus:outline-none ${
                      salesPriceReasonMissing ? 'border-red-500 focus:border-red-500' : 'border-gray-300 focus:border-blue-600'
                    }`}
                    placeholder="Describe the reason for this price change"
                  />
                  {salesPriceReasonMissing && (
                    <p className="mt-1 text-xs text-red-600">Reason for change is required.</p>
                  )}
                </div>
              </div>
            );
          case 'tbd':
          default:
            return (
              <div className="text-sm text-gray-600">
                The detailed workflow for this modification is still being defined. Marked as <span className="font-medium">TBD</span>.
              </div>
            );
        }
      };

      const renderWorkflowDetails = () => {
        if (!selectedCategoryKey && !resolvedWorkflowKey) {
          return (
            <div className="rounded-lg border border-dashed border-gray-300 p-6 text-center text-sm text-gray-600">
              Step 1: Select a modification category. Categories like <strong>Compensation Change</strong> and <strong>Clerical Correction</strong> will
              unlock a second dropdown so you can choose the exact scenario.
            </div>
          );
        }

        if (!resolvedWorkflow) {
          return (
            <div className="rounded-lg border border-dashed border-gray-300 p-6 text-center text-sm text-gray-600">
              Choose a sub-option to continue.
            </div>
          );
        }

        const workflowDocumentTitle = resolvedWorkflow.documentTitle;

        return (
          <div className="space-y-5">
            <div>
              <p className="text-xs font-semibold text-gray-500 uppercase tracking-wide">Selected modification</p>
              <h3 className="text-xl font-semibold text-gray-900 mt-1">{resolvedWorkflow.title}</h3>
            </div>
            <div className="bg-white border border-gray-200 rounded-lg p-4">{renderExperienceContent(resolvedWorkflow)}</div>
            {resolvedWorkflow.requiresDocument && workflowDocumentTitle && resolvedWorkflowKey && (
              <div className="space-y-2">
                <p className="text-sm text-gray-600">
                  Attach your <span className="font-medium">{workflowDocumentTitle}</span> before submitting this request.
                </p>
                <div>
                  <button
                    type="button"
                    onClick={() => openDocumentModal(resolvedWorkflowKey)}
                    className="inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700"
                  >
                    <UploadIcon size={16} />
                    <span>Upload</span>
                  </button>
                  <p className="text-sm text-gray-500 mt-2">
                    We will add an empty template of your required document within your transaction if you don't upload one.
                  </p>
                </div>
              </div>
            )}
          </div>
        );
      };

      let workflowSection;
      try {
        workflowSection = renderWorkflowDetails();
      } catch (error) {
        console.error('Workflow rendering error:', error);
        workflowSection = (
          <div className="rounded-lg border border-red-200 bg-red-50 p-4 text-sm text-red-700">
            Something went wrong while loading this workflow: {error.message}
          </div>
        );
        window.__lastMaxHomeError = error.stack || error.message;
      }

      return (
        <>
          <div>
            {/* Top Header Section - Fixed */}
            <div style={{ backgroundColor: '#003f88' }} className="fixed top-0 left-0 right-0 px-6 py-3 z-50">
              <div className="flex items-center justify-between">
                {/* Left side: Back + Badge + Address */}
                <div className="flex items-center gap-3">
                  <button
                    onClick={handleBackClick}
                    className="flex items-center justify-center text-white hover:bg-blue-900 rounded p-1"
                    aria-label="Go back"
                  >
                    <ArrowLeft size={20} />
                  </button>
                  <span className={`inline-flex items-center px-3 py-1 rounded text-xs font-medium text-white capitalize ${
                    transactionType.toLowerCase() === 'list' ? 'bg-teal-500' : 'bg-blue-600'
                  }`}>
                    {transactionType}
                  </span>
                  <h1 className="text-base font-semibold text-white">
                    3557 West 27th St
                  </h1>
                </div>

                {/* Middle: Status items */}
                <div className="flex items-center gap-4">
                  <div className="flex items-center gap-2">
                    <span className="text-xs text-white">Review Status:</span>
                    <span className="inline-flex items-center px-3 py-1 rounded text-xs font-medium bg-white text-gray-900 border-0">
                      Not Submitted
                    </span>
                  </div>
                  <div className="flex items-center gap-2">
                    <span className="text-xs text-white">Milestone:</span>
                    <button className="inline-flex items-center gap-2 px-3 py-1 rounded text-xs font-medium bg-white text-gray-900 hover:bg-gray-100 border-0">
                      <span>Under Contract</span>
                      <ChevronDown size={14} />
                    </button>
                  </div>
                  <div className="flex items-center gap-2">
                    <span className="text-xs text-white">Closing Date:</span>
                    <span className="text-xs text-white font-medium">11/30/25</span>
                  </div>

                  {/* MLS/PLN Button - Only for List transactions */}
                  {transactionType.toLowerCase() === 'list' && (
                    <div className="flex items-center gap-2">
                      {mlsPlnStatus === null ? (
                        // Show button when MLS/PLN not created yet
                        <>
                          <span className="text-xs text-white">MLS/PLN:</span>
                          <button
                            onClick={() => {
                              setActiveView('create-listing');
                              setListingType(null);
                              setCurrentStep(0);
                            }}
                            className="inline-flex items-center gap-2 px-3 py-1 rounded text-xs font-medium bg-blue-500 text-white hover:bg-blue-600 border-0"
                          >
                            <span>Create MLS/PLN</span>
                          </button>
                        </>
                      ) : (
                        // Show status badge when created
                        <>
                          <span className="text-xs text-white">{listingType === 'pln' ? 'PLN' : 'MLS'} Status:</span>
                          <span className={`inline-flex items-center px-3 py-1 rounded text-xs font-medium ${
                            mlsPlnStatus === 'active' ? 'bg-green-100 text-green-800' :
                            mlsPlnStatus === 'draft' ? 'bg-yellow-100 text-yellow-800' :
                            mlsPlnStatus === 'pending' ? 'bg-blue-100 text-blue-800' :
                            'bg-gray-100 text-gray-800'
                          }`}>
                            {mlsPlnStatus.charAt(0).toUpperCase() + mlsPlnStatus.slice(1)}
                          </span>
                        </>
                      )}
                    </div>
                  )}
                </div>

                {/* Right side: Setup Guide + Settings */}
                <div className="flex items-center gap-3">
                  <button className="flex items-center gap-2 text-white hover:bg-blue-900 rounded px-3 py-1 text-sm">
                    <HelpCircle size={18} />
                    <span>Setup Guide</span>
                  </button>
                  <button className="flex items-center justify-center text-white hover:bg-blue-900 rounded p-1">
                    <Settings size={20} />
                  </button>
                </div>
              </div>
            </div>

            {/* Main Content Area - Add top padding for fixed header */}
            <div className="flex" style={{ paddingTop: '52px' }}>
              {/* Left Sidebar Menu - Fixed */}
              <div className="fixed left-0 w-64 bg-gray-100 border-r border-gray-200" style={{ top: '52px', bottom: 0, overflowY: 'auto' }}>
                <nav className="p-4">
                  <ul className="space-y-2">
                    <li>
                      <button
                        onClick={() => setActiveView('workspace')}
                        className={`w-full flex items-center gap-3 px-4 py-2.5 text-sm font-medium ${
                          activeView === 'workspace'
                            ? 'text-blue-600'
                            : 'text-gray-600 hover:bg-gray-200'
                        }`}
                      >
                        <FileText size={20} className={activeView === 'workspace' ? 'text-blue-600' : 'text-gray-400'} />
                        <span>Workspace</span>
                      </button>
                    </li>
                    <li>
                      <a
                        href="#"
                        className="flex items-center gap-3 px-4 py-2.5 text-sm font-medium text-gray-600 hover:bg-gray-200"
                      >
                        <Key size={20} className="text-gray-400" />
                        <span>Key Transaction Facts</span>
                      </a>
                    </li>
                    <li>
                      <a
                        href="#"
                        className="flex items-center gap-3 px-4 py-2.5 text-sm font-medium text-gray-600 hover:bg-gray-200"
                      >
                        <Users size={20} className="text-gray-400" />
                        <span>Contacts</span>
                      </a>
                    </li>
                    <li>
                      <a
                        href="#"
                        className="flex items-center gap-3 px-4 py-2.5 text-sm font-medium text-gray-600 hover:bg-gray-200"
                      >
                        <CheckSquare size={20} className="text-gray-400" />
                        <span>Tasks</span>
                      </a>
                    </li>
                    <li>
                      <button
                        onClick={() => setActiveView('modification-tracker')}
                        className={`w-full flex items-center gap-3 px-4 py-2.5 text-sm font-medium ${
                          activeView === 'modification-tracker'
                            ? 'text-blue-600'
                            : 'text-gray-600 hover:bg-gray-200'
                        }`}
                      >
                        <ClipboardList size={20} className={activeView === 'modification-tracker' ? 'text-blue-600' : 'text-gray-400'} />
                        <span>Modification Requests</span>
                      </button>
                    </li>
                    <li>
                      <a
                        href="#"
                        className="flex items-center gap-3 px-4 py-2.5 text-sm font-medium text-gray-600 hover:bg-gray-200"
                      >
                        <DollarSign size={20} className="text-gray-400" />
                        <span>Compensation</span>
                      </a>
                    </li>
                    <li>
                      <a
                        href="#"
                        className="flex items-center gap-3 px-4 py-2.5 text-sm font-medium text-gray-600 hover:bg-gray-200"
                      >
                        <Mail size={20} className="text-gray-400" />
                        <span>Email Activity</span>
                      </a>
                    </li>
                    <li>
                      <a
                        href="#"
                        className="flex items-center gap-3 px-4 py-2.5 text-sm font-medium text-gray-600 hover:bg-gray-200"
                      >
                        <Activity size={20} className="text-gray-400" />
                        <span>Activity Log</span>
                      </a>
                    </li>
                    {transactionType.toLowerCase() === 'list' && (
                      <>
                        <li>
                          <button
                            onClick={() => {
                              setActiveView('mls-pln-form');
                              setListingType(null);
                              setCurrentStep(0);
                            }}
                            className={`w-full flex items-center gap-3 px-4 py-2.5 text-sm font-medium ${
                              activeView === 'mls-pln-form'
                                ? 'text-blue-600'
                                : 'text-gray-600 hover:bg-gray-200'
                            }`}
                          >
                            <FileEdit size={20} className={activeView === 'mls-pln-form' ? 'text-blue-600' : 'text-gray-400'} />
                            <span>Create MLS/PLN</span>
                          </button>
                        </li>
                        <li className="pt-4 mt-4 border-t border-gray-200">
                          <button
                            onClick={() => window.open('https://example.com/order-marketing', '_blank')}
                            style={{ backgroundColor: '#003f88' }}
                            className="w-full flex items-center justify-center gap-2 px-4 py-2.5 text-sm font-medium text-white rounded-lg hover:opacity-90 transition-opacity"
                          >
                            <ShoppingCart size={20} />
                            <span>Order Marketing</span>
                          </button>
                        </li>
                      </>
                    )}
                  </ul>
                </nav>
              </div>

              {/* Main Workspace Content - Add left margin for fixed sidebar */}
              <div className="flex-1 bg-gray-50 min-h-screen" style={{ marginLeft: '256px' }}>
                {activeView === 'modification-tracker' ? (
                  <div className="p-6">
                    <div className="bg-white rounded-lg shadow border border-gray-200">
                      <div className="flex items-center justify-between px-6 py-4 border-b border-gray-200">
                        <div>
                          <h3 className="text-xl font-semibold text-gray-900">Modification Requests</h3>
                          <p className="text-sm text-gray-500">
                            Track every change request and its status in one place.
                          </p>
                        </div>
                        <button
                          onClick={handleAddModificationRequest}
                          className="inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700"
                        >
                          <ClipboardList size={18} />
                          <span>New Modification</span>
                        </button>
                      </div>
                      <div className="overflow-x-auto overflow-y-visible">
                        <table className="min-w-full divide-y divide-gray-200">
                          <thead className="bg-gray-50">
                            <tr>
                              <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Modification Type</th>
                              <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Date Submitted</th>
                              <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Old Value</th>
                              <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">New Value</th>
                              <th className="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Status</th>
                              <th className="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th>
                            </tr>
                          </thead>
                          <tbody className="bg-white divide-y divide-gray-200">
                            {modificationRequests.length === 0 ? (
                              <tr>
                                <td colSpan={6} className="px-6 py-12 text-center text-gray-500">
                                  No modification requests yet. Submit one to see it here.
                                </td>
                              </tr>
                            ) : (
                              modificationRequests.map(request => (
                                <tr key={request.id}>
                                  <td className="px-6 py-4 text-sm text-gray-900">{request.type}</td>
                                  <td className="px-6 py-4 text-sm text-gray-600">{request.date}</td>
                                  <td className="px-6 py-4 text-sm text-gray-600">{request.oldValue}</td>
                                  <td className="px-6 py-4 text-sm text-gray-900 font-medium">{request.newValue}</td>
                                  <td className="px-6 py-4">
                                    <span className="inline-flex items-center px-3 py-0.5 rounded-full text-xs font-semibold bg-green-100 text-green-800">
                                      Approved
                                    </span>
                                  </td>
                                  <td className="px-6 py-4 text-right relative">
                                    <button
                                      onClick={() => toggleRequestMenu(request.id)}
                                      className="inline-flex items-center justify-center w-8 h-8 rounded-full hover:bg-gray-100 text-gray-500"
                                      aria-label="Request actions"
                                    >
                                      <MoreVertical size={18} />
                                    </button>
                                    {openRequestMenuId === request.id && (
                                      <div className="absolute right-6 mt-2 w-40 bg-white border border-gray-200 rounded-lg shadow-lg z-10">
                                        <button
                                          onClick={() => handleDeleteRequest(request.id)}
                                          className="w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50"
                                        >
                                          Delete request
                                        </button>
                                      </div>
                                    )}
                                  </td>
                                </tr>
                              ))
                            )}
                          </tbody>
                        </table>
                      </div>
                    </div>
                  </div>
                ) : activeView === 'workspace' ? (
                  <div className="p-6">
                    {/* Page Header */}
                    <div className="flex items-center justify-between mb-6">
                      <h2 className="text-2xl font-bold text-gray-900">Workspace</h2>
                      <div className="flex items-center gap-3">
                        <button className="px-4 py-2 text-sm font-medium text-blue-600 bg-white border border-blue-600 rounded hover:bg-blue-50">
                          Compliance Check
                        </button>
                        <button className="flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded hover:bg-blue-700">
                          <Plus size={16} />
                          <span>Add</span>
                        </button>
                      </div>
                    </div>

                    {/* Tab Navigation */}
                    <div className="mb-6">
                      <div className="border-b border-gray-200">
                        <nav className="flex gap-6">
                          <button
                            onClick={() => setActiveTab('Documents')}
                            className={`pb-3 px-1 text-sm font-medium border-b-2 transition-colors ${
                              activeTab === 'Documents'
                                ? 'border-blue-600 text-blue-600'
                                : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'
                            }`}
                          >
                            Documents ({documents.length})
                          </button>
                          <button
                            onClick={() => setActiveTab('Source Files')}
                            className={`pb-3 px-1 text-sm font-medium border-b-2 transition-colors ${
                              activeTab === 'Source Files'
                                ? 'border-blue-600 text-blue-600'
                                : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'
                            }`}
                          >
                            Source Files (0)
                          </button>
                          <button
                            onClick={() => setActiveTab('Draft Templates')}
                            className={`pb-3 px-1 text-sm font-medium border-b-2 transition-colors ${
                              activeTab === 'Draft Templates'
                                ? 'border-blue-600 text-blue-600'
                                : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'
                            }`}
                          >
                            Draft Templates (0)
                          </button>
                          <button
                            onClick={() => setActiveTab('Archived')}
                            className={`pb-3 px-1 text-sm font-medium border-b-2 transition-colors ${
                              activeTab === 'Archived'
                                ? 'border-blue-600 text-blue-600'
                                : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'
                            }`}
                          >
                            Archived (0)
                          </button>
                        </nav>
                      </div>
                    </div>

                {activeTab === 'Documents' ? (
                  <>
                    {/* Search and Actions */}
                    <div className="mb-6 flex flex-wrap items-center gap-4 justify-between">
                      <div className="relative w-full max-w-md">
                        <div className="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none">
                          <Search size={18} className="text-gray-400" />
                        </div>
                        <input
                          type="text"
                          placeholder="Search for filename or title"
                          className="w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                        />
                      </div>
                      <div className="flex flex-wrap items-center gap-3 justify-end">
                        {selectedDocs.length > 0 && (
                          <div className="flex items-center gap-2">
                            <span className="text-sm text-gray-700">{selectedDocs.length} Selected:</span>
                            <div className="relative">
                              <select
                                onChange={handleBulkAction}
                                className="w-56 pl-3 pr-8 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white text-sm"
                              >
                                <option value="">Select an option</option>
                                <option value="request-signature">Request signature</option>
                                <option value="make-revision">Make revision request</option>
                                <option value="maxai-review">Submit for instant MaxAI Compliance Review</option>
                                <option value="brokerage-review">Submit for Brokerage Review</option>
                                <option value="download">Download</option>
                                <option value="archive">Archive</option>
                              </select>
                              <div className="absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none">
                                <ChevronDown size={16} className="text-gray-400" />
                              </div>
                            </div>
                          </div>
                        )}
                        <button
                          onClick={handleAddModificationRequest}
                          className="inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700"
                        >
                          <ClipboardList size={18} />
                          <span>Add Modification Request</span>
                        </button>
                      </div>
                    </div>

                    {/* Documents Table */}
                    <div className="bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden">
                      <table className="w-full">
                        <thead className="bg-gray-50 border-b border-gray-200">
                          <tr>
                            <th className="px-4 py-3 text-left w-12">
                              <input
                                type="checkbox"
                                checked={isAllSelected}
                                onChange={handleSelectAll}
                                className="w-4 h-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"
                              />
                            </th>
                            <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                              Title
                            </th>
                            <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                              Signature Status
                            </th>
                            <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                              Compliance Check
                            </th>
                            <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                              Updated
                            </th>
                            <th className="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">
                              Actions
                            </th>
                          </tr>
                        </thead>
                        <tbody className="bg-white divide-y divide-gray-200">
                          {documents.map((doc, index) => (
                            <tr key={index} className="hover:bg-gray-50">
                              <td className="px-4 py-3">
                                <input
                                  type="checkbox"
                                  checked={selectedDocs.includes(doc)}
                                  onChange={() => handleSelectDoc(doc)}
                                  className="w-4 h-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"
                                />
                              </td>
                              <td className="px-4 py-3 text-sm text-gray-900">
                                {doc}
                              </td>
                              <td className="px-4 py-3 text-sm text-gray-500">
                                -
                              </td>
                              <td className="px-4 py-3">
                                <span className="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800">
                                  Not Submitted
                                </span>
                              </td>
                              <td className="px-4 py-3 text-sm text-gray-500">
                                Oct 30, 2025, 5:14 PM
                              </td>
                              <td className="px-4 py-3">
                                <div className="flex items-center gap-2">
                                  <button
                                    onClick={() => handleDownload(doc)}
                                    className="p-1 text-gray-400 hover:text-blue-600 transition-colors"
                                    aria-label="Download"
                                  >
                                    <Download size={18} />
                                  </button>
                                  <button
                                    onClick={() => handleDelete(doc)}
                                    className="p-1 text-gray-400 hover:text-red-600 transition-colors"
                                    aria-label="Delete"
                                  >
                                    <Trash size={18} />
                                  </button>
                                  <button
                                    className="p-1 text-gray-400 hover:text-gray-600 transition-colors"
                                    aria-label="More options"
                                  >
                                    <MoreVertical size={18} />
                                  </button>
                                </div>
                              </td>
                            </tr>
                          ))}
                        </tbody>
                      </table>
                    </div>
                  </>
                ) : (
                  <div className="bg-white rounded-lg border-2 border-dashed border-gray-300 text-center py-16 px-6">
                    <h3 className="text-xl font-semibold text-gray-900">{activeTab}</h3>
                    <p className="mt-2 text-gray-500">
                      This tab does not have content yet. Use it as blank space for upcoming assets.
                    </p>
                  </div>
                )}
                  </div>
                ) : (
                  /* MLS/PLN Form View */
                  listingType === null ? (
                    /* MLS/PLN Selection Screen - Full Width */
                    <div className="max-w-4xl mx-auto py-12 px-6">
                      <h1 className="text-3xl font-bold text-gray-900 mb-3">Create MLS/PLN Listing</h1>
                      <p className="text-gray-600 mb-12">Select the type of listing you want to create</p>

                      <div className="space-y-6">
                        <button
                          onClick={() => setListingType('mls')}
                          className="w-full p-8 border-2 border-gray-200 rounded-lg hover:border-blue-600 hover:shadow-md text-left transition-all"
                          style={{ backgroundColor: 'transparent' }}
                        >
                          <h3 className="font-bold text-xl text-gray-900 mb-2">MLS (Multiple Listing Service)</h3>
                          <p className="text-gray-600 text-base">Create an MLS listing visible to all agents and syndicated to public portals.</p>
                        </button>

                        <button
                          onClick={() => setListingType('pln')}
                          className="w-full p-8 border-2 border-gray-200 rounded-lg hover:border-blue-600 hover:shadow-md text-left transition-all"
                          style={{ backgroundColor: 'transparent' }}
                        >
                          <h3 className="font-bold text-xl text-gray-900 mb-2">PLN (Private Listing Network)</h3>
                          <p className="text-gray-600 text-base">Create a private listing shared only with select agents in your network.</p>
                        </button>
                      </div>
                    </div>
                  ) : (
                    /* Form View with Horizontal Stepper */
                    <div className="min-h-screen bg-gray-50">
                      {/* Horizontal Stepper */}
                      <div className="border-b border-gray-200 py-8 px-6">
                        <div className="max-w-6xl mx-auto">
                          <div className="relative flex items-center">
                            {formSections.map((section, index) => (
                              <div key={section.id} className="flex-1 flex flex-col items-center relative">
                                {/* Connecting Line - Behind circles */}
                                {index < formSections.length - 1 && (
                                  <div
                                    className="absolute top-5 left-1/2 w-full h-0.5 bg-gray-200"
                                    style={{ zIndex: 0 }}
                                  >
                                    <div
                                      className={`h-full transition-all duration-300 ${
                                        currentStep > index ? 'bg-blue-600' : 'bg-gray-200'
                                      }`}
                                      style={{ width: currentStep > index ? '100%' : '0%' }}
                                    />
                                  </div>
                                )}

                                {/* Step Circle */}
                                <button
                                  onClick={() => setCurrentStep(index)}
                                  className={`relative z-10 w-10 h-10 rounded-full flex items-center justify-center text-sm font-semibold transition-all ${
                                    currentStep === index
                                      ? 'bg-blue-600 text-white shadow-lg scale-110'
                                      : currentStep > index
                                      ? 'bg-blue-600 text-white'
                                      : 'bg-white text-gray-400 border-2 border-gray-300'
                                  }`}
                                >
                                  {currentStep > index ? '✓' : section.id}
                                </button>

                                {/* Label */}
                                <div
                                  className={`mt-3 text-xs font-medium text-center leading-snug ${
                                    currentStep === index
                                      ? 'text-blue-600'
                                      : currentStep > index
                                      ? 'text-gray-700'
                                      : 'text-gray-400'
                                  }`}
                                  style={{ width: '70px', height: '32px', display: 'flex', alignItems: 'flex-start', justifyContent: 'center' }}
                                >
                                  {section.title}
                                </div>
                              </div>
                            ))}
                          </div>
                        </div>
                      </div>

                      {/* Descriptive Text Section */}
                      <div className="py-6 px-6 bg-gray-50">
                        <div className="max-w-3xl mx-auto">
                          <h1 className="text-2xl font-semibold text-gray-900">
                            Complete Your {listingType === 'pln' ? 'PLN' : 'MLS'} Listing Details
                          </h1>
                        </div>
                      </div>

                      {/* Form Content - Centered */}
                      <div className="py-8 px-6">
                        <div className="max-w-3xl mx-auto">
                          <div className="bg-white rounded-lg shadow p-8">
                            {listingType === 'pln' ? (
                              /* PLN Form */
                              <>
                                {currentStep === 0 ? (
                              /* Basic Info Section - Step 1 */
                              <div>
                                <h2 className="text-xl font-bold text-gray-900 mb-8">Basic Info</h2>

                                <div className="space-y-4">
                                  {/* Area */}
                                  <div>
                                    <label className="block text-sm mb-2">
                                      Area <span className="text-red-500">*</span>
                                    </label>
                                    <div className="relative">
                                      <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                        <option value="">Select area</option>
                                      </select>
                                      <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                        <polyline points="6 9 12 15 18 9" />
                                      </svg>
                                    </div>
                                  </div>

                                  {/* Street Number and Street Name */}
                                  <div className="grid grid-cols-2 gap-4">
                                    <div>
                                      <label className="block text-sm mb-2">
                                        Street Number <span className="text-red-500">*</span>
                                      </label>
                                      <input
                                        type="text"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                        placeholder="123"
                                      />
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2">
                                        Street Name <span className="text-red-500">*</span>
                                      </label>
                                      <input
                                        type="text"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                        placeholder="Main"
                                      />
                                    </div>
                                  </div>

                                  {/* Compass Point and Street Suffix */}
                                  <div className="grid grid-cols-2 gap-4">
                                    <div>
                                      <label className="block text-sm mb-2">Compass Point</label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value=""></option>
                                          <option value="N">N</option>
                                          <option value="S">S</option>
                                          <option value="E">E</option>
                                          <option value="W">W</option>
                                          <option value="NE">NE</option>
                                          <option value="NW">NW</option>
                                          <option value="SE">SE</option>
                                          <option value="SW">SW</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2">Street Suffix</label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select</option>
                                          <option value="St">Street</option>
                                          <option value="Ave">Avenue</option>
                                          <option value="Blvd">Boulevard</option>
                                          <option value="Dr">Drive</option>
                                          <option value="Rd">Road</option>
                                          <option value="Ln">Lane</option>
                                          <option value="Ct">Court</option>
                                          <option value="Pl">Place</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>
                                  </div>

                                  {/* Unit Number and City */}
                                  <div className="grid grid-cols-2 gap-4">
                                    <div>
                                      <label className="block text-sm mb-2">Unit Number</label>
                                      <input
                                        type="text"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                        placeholder="Optional"
                                      />
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2">
                                        City <span className="text-red-500">*</span>
                                      </label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select city</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>
                                  </div>

                                  {/* State and Zip Code */}
                                  <div className="grid grid-cols-2 gap-4">
                                    <div>
                                      <label className="block text-sm mb-2">
                                        State <span className="text-red-500">*</span>
                                      </label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select</option>
                                          <option value="IL">IL</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2">
                                        Zip Code <span className="text-red-500">*</span>
                                      </label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select zip</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>
                                  </div>

                                  {/* County */}
                                  <div>
                                    <label className="block text-sm mb-2">County</label>
                                    <div className="relative">
                                      <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                        <option value="">Select county</option>
                                      </select>
                                      <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                        <polyline points="6 9 12 15 18 9" />
                                      </svg>
                                    </div>
                                  </div>

                                  {/* List Price, Min and Max Price */}
                                  <div className="grid grid-cols-3 gap-4">
                                    <div>
                                      <label className="block text-sm mb-2">List Price</label>
                                      <input
                                        type="text"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                        placeholder="$0"
                                      />
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2">Min Price</label>
                                      <input
                                        type="text"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                        placeholder="$0"
                                      />
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2">Max Price</label>
                                      <input
                                        type="text"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                        placeholder="$0"
                                      />
                                    </div>
                                  </div>

                                  {/* Expiration Date and Showing */}
                                  <div className="grid grid-cols-2 gap-4">
                                    <div>
                                      <label className="block text-sm mb-2">
                                        Expiration Date <span className="text-red-500">*</span>
                                      </label>
                                      <input
                                        type="date"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                      />
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2">
                                        Showing <span className="text-red-500">*</span>
                                      </label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select</option>
                                          <option value="Y">Yes</option>
                                          <option value="N">No</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>
                                  </div>

                                  {/* List Broker ID, List Office ID, and Co-Lister ID */}
                                  <div className="grid grid-cols-3 gap-4">
                                    <div>
                                      <label className="block text-sm mb-2">
                                        List Broker ID <span className="text-red-500">*</span>
                                      </label>
                                      <input
                                        type="text"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                        placeholder="Enter ID"
                                      />
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2">
                                        List Office ID <span className="text-red-500">*</span>
                                      </label>
                                      <input
                                        type="text"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                        placeholder="Enter ID"
                                      />
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2">Co-Lister ID</label>
                                      <input
                                        type="text"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                        placeholder="Optional"
                                      />
                                    </div>
                                  </div>

                                  {/* Can listing be shared and Is property also listed for rent */}
                                  <div className="grid grid-cols-2 gap-4">
                                    <div>
                                      <label className="block text-sm mb-2">
                                        Can this listing be shared with clients? <span className="text-red-500">*</span>
                                      </label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select</option>
                                          <option value="Y">Yes</option>
                                          <option value="N">No</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2">
                                        Is property also listed for rent?
                                      </label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select</option>
                                          <option value="Y">Yes</option>
                                          <option value="N">No</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>
                                  </div>
                                </div>

                                <div className="mt-10 flex justify-end">
                                  <button
                                    onClick={() => setCurrentStep(1)}
                                    className="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-colors"
                                  >
                                    Save and Continue
                                  </button>
                                </div>
                              </div>
                            ) : currentStep === 1 ? (
                              /* General Section - Step 2 */
                              <div>
                                <h2 className="text-xl font-bold text-gray-900 mb-8">General</h2>

                                <div className="space-y-4">
                                  {/* New Construction and Anticipated activation date */}
                                  <div className="grid grid-cols-2 gap-4">
                                    <div>
                                      <label className="block text-sm mb-2">New Construction (Private)</label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select</option>
                                          <option value="Y">Yes</option>
                                          <option value="N">No</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2">
                                        Anticipated Activation Date <span className="text-red-500">*</span>
                                      </label>
                                      <input
                                        type="date"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                      />
                                    </div>
                                  </div>

                                  {/* Directions */}
                                  <div>
                                    <label className="block text-sm mb-2">Directions</label>
                                    <textarea
                                      rows="3"
                                      className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                      placeholder="Enter directions"
                                    ></textarea>
                                  </div>

                                  {/* Boundaries - North and South */}
                                  <div className="grid grid-cols-2 gap-4">
                                    <div>
                                      <label className="block text-sm mb-2">North</label>
                                      <input
                                        type="text"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                        placeholder="North boundary"
                                      />
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2">South</label>
                                      <input
                                        type="text"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                        placeholder="South boundary"
                                      />
                                    </div>
                                  </div>

                                  {/* Boundaries - East and West */}
                                  <div className="grid grid-cols-2 gap-4">
                                    <div>
                                      <label className="block text-sm mb-2">East</label>
                                      <input
                                        type="text"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                        placeholder="East boundary"
                                      />
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2">West</label>
                                      <input
                                        type="text"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                        placeholder="West boundary"
                                      />
                                    </div>
                                  </div>

                                  {/* Subdivision and Model */}
                                  <div className="grid grid-cols-2 gap-4">
                                    <div>
                                      <label className="block text-sm mb-2">Subdivision</label>
                                      <input
                                        type="text"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                        placeholder="Enter subdivision"
                                      />
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2">Model</label>
                                      <input
                                        type="text"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                        placeholder="Enter model"
                                      />
                                    </div>
                                  </div>

                                  {/* Display Mobility Score and Pets Allowed */}
                                  <div className="grid grid-cols-2 gap-4">
                                    <div>
                                      <label className="block text-sm mb-2">
                                        Display Mobility Score on Reports <span className="text-red-500">*</span>
                                      </label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select</option>
                                          <option value="Y">Yes</option>
                                          <option value="N">No</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2">
                                        Pets Allowed <span className="text-red-500">*</span>
                                      </label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select</option>
                                          <option value="Y">Yes</option>
                                          <option value="N">No</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>
                                  </div>

                                  {/* Elementary School District and Elementary School */}
                                  <div className="grid grid-cols-2 gap-4">
                                    <div>
                                      <label className="block text-sm mb-2">
                                        Elementary School District <span className="text-red-500">*</span>
                                      </label>
                                      <input
                                        type="text"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                        placeholder="Enter district"
                                      />
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2">Elementary School</label>
                                      <input
                                        type="text"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                        placeholder="Enter school"
                                      />
                                    </div>
                                  </div>

                                  {/* 2nd/Alternate Elementary School */}
                                  <div>
                                    <label className="block text-sm mb-2">2nd/Alternate Elementary School</label>
                                    <input
                                      type="text"
                                      className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                      placeholder="Enter alternate school"
                                    />
                                  </div>

                                  {/* Junior High/Middle School District and School */}
                                  <div className="grid grid-cols-2 gap-4">
                                    <div>
                                      <label className="block text-sm mb-2">
                                        Junior High/Middle School District <span className="text-red-500">*</span>
                                      </label>
                                      <input
                                        type="text"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                        placeholder="Enter district"
                                      />
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2">Junior High/Middle School</label>
                                      <input
                                        type="text"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                        placeholder="Enter school"
                                      />
                                    </div>
                                  </div>

                                  {/* 2nd/Alternate Junior High/Middle School */}
                                  <div>
                                    <label className="block text-sm mb-2">2nd/Alternate Junior High/Middle School</label>
                                    <input
                                      type="text"
                                      className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                      placeholder="Enter alternate school"
                                    />
                                  </div>

                                  {/* High School District and High School */}
                                  <div className="grid grid-cols-2 gap-4">
                                    <div>
                                      <label className="block text-sm mb-2">
                                        High School District <span className="text-red-500">*</span>
                                      </label>
                                      <input
                                        type="text"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                        placeholder="Enter district"
                                      />
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2">High School</label>
                                      <input
                                        type="text"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                        placeholder="Enter school"
                                      />
                                    </div>
                                  </div>

                                  {/* 2nd/Alternate High School */}
                                  <div>
                                    <label className="block text-sm mb-2">2nd/Alternate High School</label>
                                    <input
                                      type="text"
                                      className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                      placeholder="Enter alternate school"
                                    />
                                  </div>

                                  {/* Other Public School District and School */}
                                  <div className="grid grid-cols-2 gap-4">
                                    <div>
                                      <label className="block text-sm mb-2">Other Public School District</label>
                                      <input
                                        type="text"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                        placeholder="Enter district"
                                      />
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2">Other Public School</label>
                                      <input
                                        type="text"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                        placeholder="Enter school"
                                      />
                                    </div>
                                  </div>

                                  {/* Ownership and Type Attached */}
                                  <div className="grid grid-cols-2 gap-4">
                                    <div>
                                      <label className="block text-sm mb-2">Ownership</label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2">
                                        Type Attached <span className="text-red-500">*</span>
                                      </label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>
                                  </div>

                                  {/* Approx Year Built and Built Before 1978 */}
                                  <div className="grid grid-cols-2 gap-4">
                                    <div>
                                      <label className="block text-sm mb-2">Approx Year Built</label>
                                      <input
                                        type="text"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                        placeholder="Enter year or 'Unknown'"
                                      />
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2">Built Before 1978</label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select</option>
                                          <option value="Y">Yes</option>
                                          <option value="N">No</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>
                                  </div>

                                  {/* Age and Rehab */}
                                  <div className="grid grid-cols-2 gap-4">
                                    <div>
                                      <label className="block text-sm mb-2">Age</label>
                                      <input
                                        type="number"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                        placeholder="Enter age"
                                      />
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2">Rehab</label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select</option>
                                          <option value="Y">Yes</option>
                                          <option value="N">No</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>
                                  </div>

                                  {/* Rebuilt and Total # Units in Building */}
                                  <div className="grid grid-cols-2 gap-4">
                                    <div>
                                      <label className="block text-sm mb-2">Rebuilt</label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select</option>
                                          <option value="Y">Yes</option>
                                          <option value="N">No</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2">Total # Units in Building</label>
                                      <input
                                        type="number"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                        placeholder="Enter number"
                                      />
                                    </div>
                                  </div>

                                  {/* Rural and Vacant */}
                                  <div className="grid grid-cols-2 gap-4">
                                    <div>
                                      <label className="block text-sm mb-2">Rural</label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select</option>
                                          <option value="Y">Yes</option>
                                          <option value="N">No</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2">Vacant</label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select</option>
                                          <option value="Y">Yes</option>
                                          <option value="N">No</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>
                                  </div>

                                  {/* Waterfront and Property Currently Being Leased */}
                                  <div className="grid grid-cols-2 gap-4">
                                    <div>
                                      <label className="block text-sm mb-2">Waterfront</label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select</option>
                                          <option value="Y">Yes</option>
                                          <option value="N">No</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2">Property Currently Being Leased</label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select</option>
                                          <option value="Y">Yes</option>
                                          <option value="N">No</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>
                                  </div>

                                  {/* % Owner Occupied and % Common Area */}
                                  <div className="grid grid-cols-2 gap-4">
                                    <div>
                                      <label className="block text-sm mb-2">% Owner Occupied</label>
                                      <input
                                        type="number"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                        placeholder="0-100"
                                        min="0"
                                        max="100"
                                      />
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2">% Common Area/Coop/Condo Ownership</label>
                                      <input
                                        type="number"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                        placeholder="0-100"
                                        min="0"
                                        max="100"
                                      />
                                    </div>
                                  </div>

                                  {/* # Of Days For Bd Approval and Zero lot line */}
                                  <div className="grid grid-cols-2 gap-4">
                                    <div>
                                      <label className="block text-sm mb-2"># Of Days For Bd Approval</label>
                                      <input
                                        type="number"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                        placeholder="Enter days"
                                      />
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2">Zero Lot Line</label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>
                                  </div>

                                  {/* # Stories and Management */}
                                  <div className="grid grid-cols-2 gap-4">
                                    <div>
                                      <label className="block text-sm mb-2"># Stories</label>
                                      <input
                                        type="number"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                        placeholder="Enter number"
                                      />
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2">Management</label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>
                                  </div>

                                  {/* General Information and Exposure */}
                                  <div className="grid grid-cols-2 gap-4">
                                    <div>
                                      <label className="block text-sm mb-2">General Information</label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2">Exposure</label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>
                                  </div>

                                  {/* Common Area Amenities and Disability Access */}
                                  <div className="grid grid-cols-2 gap-4">
                                    <div>
                                      <label className="block text-sm mb-2">Common Area Amenities</label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2">Disability Access and/or Equipped</label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>
                                  </div>

                                  {/* Remarks */}
                                  <div>
                                    <label className="block text-sm mb-2">Remarks</label>
                                    <textarea
                                      rows="5"
                                      className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                      placeholder="Enter remarks"
                                    ></textarea>
                                  </div>
                                </div>

                                <div className="mt-10 flex justify-between">
                                  <button
                                    onClick={() => setCurrentStep(0)}
                                    className="px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 font-medium transition-colors"
                                  >
                                    Back
                                  </button>
                                  <button
                                    onClick={() => setCurrentStep(2)}
                                    className="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-colors"
                                  >
                                    Save and Continue
                                  </button>
                                </div>
                              </div>
                            ) : currentStep === 2 ? (
                              /* Exterior Features Section - Step 3 */
                              <div>
                                <h2 className="text-xl font-bold text-gray-900 mb-8">Exterior Features</h2>

                                <div className="space-y-4">
                                  {/* Lot Dimensions and Lot size Source */}
                                  <div className="grid grid-cols-2 gap-4">
                                    <div>
                                      <label className="block text-sm mb-2">Lot Dimensions</label>
                                      <input
                                        type="text"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                        placeholder="e.g., 50 x 100"
                                      />
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2">Lot Size Source</label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>
                                  </div>

                                  {/* Exterior Building Type */}
                                  <div>
                                    <label className="block text-sm mb-2">Exterior Building Type (max 3)</label>
                                    <div className="relative">
                                      <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                        <option value="">Select</option>
                                      </select>
                                      <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                        <polyline points="6 9 12 15 18 9" />
                                      </svg>
                                    </div>
                                  </div>

                                  {/* Lot Description */}
                                  <div>
                                    <label className="block text-sm mb-2">Lot Description (max 6)</label>
                                    <div className="relative">
                                      <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                        <option value="">Select</option>
                                      </select>
                                      <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                        <polyline points="6 9 12 15 18 9" />
                                      </svg>
                                    </div>
                                  </div>

                                  {/* Roof Type and Foundation */}
                                  <div className="grid grid-cols-2 gap-4">
                                    <div>
                                      <label className="block text-sm mb-2">Roof Type</label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2">Foundation</label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>
                                  </div>

                                  {/* Exterior Property Features */}
                                  <div>
                                    <label className="block text-sm mb-2">Exterior Property Features (max 6)</label>
                                    <div className="relative">
                                      <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                        <option value="">Select</option>
                                      </select>
                                      <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                        <polyline points="6 9 12 15 18 9" />
                                      </svg>
                                    </div>
                                  </div>

                                  {/* Parking - Triggers conditional fields */}
                                  <div>
                                    <label className="block text-sm mb-2">
                                      Parking <span className="text-red-500">*</span>
                                    </label>
                                    <div className="relative">
                                      <select
                                        value={parkingType}
                                        onChange={(e) => setParkingType(e.target.value)}
                                        className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white"
                                      >
                                        <option value="">Select</option>
                                        <option value="G">Garage</option>
                                        <option value="S">Space/Parking</option>
                                        <option value="N">None</option>
                                      </select>
                                      <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                        <polyline points="6 9 12 15 18 9" />
                                      </svg>
                                    </div>
                                  </div>

                                  {/* Conditional Garage Fields */}
                                  {parkingType === 'G' && (
                                    <>
                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">Is Parking Included in Price?</label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                              <option value="Y">Yes</option>
                                              <option value="N">No</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">Garage Ownership</label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                      </div>

                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">Garage On-Site</label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                              <option value="Y">Yes</option>
                                              <option value="N">No</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">Garage Type</label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                      </div>

                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2"># Garage Spaces</label>
                                          <input
                                            type="number"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                            placeholder="Enter number"
                                          />
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">Garage Details</label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                      </div>

                                      <div>
                                        <label className="block text-sm mb-2">Driveway</label>
                                        <div className="relative">
                                          <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                            <option value="">Select</option>
                                          </select>
                                          <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                            <polyline points="6 9 12 15 18 9" />
                                          </svg>
                                        </div>
                                      </div>
                                    </>
                                  )}

                                  {/* Conditional Space/Parking Fields */}
                                  {parkingType === 'S' && (
                                    <>
                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">Is Parking Included in Price?</label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                              <option value="Y">Yes</option>
                                              <option value="N">No</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">Parking Ownership</label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                      </div>

                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">Parking On-Site</label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                              <option value="Y">Yes</option>
                                              <option value="N">No</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2"># Parking Spaces</label>
                                          <input
                                            type="number"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                            placeholder="Enter number"
                                          />
                                        </div>
                                      </div>

                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">Parking Details</label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">Driveway</label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                      </div>
                                    </>
                                  )}

                                  {/* Driveway - shown if no specific parking type or parking type is None */}
                                  {(parkingType === '' || parkingType === 'N') && (
                                    <div>
                                      <label className="block text-sm mb-2">Driveway</label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>
                                  )}
                                </div>

                                <div className="mt-10 flex justify-between">
                                  <button
                                    onClick={() => setCurrentStep(1)}
                                    className="px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 font-medium transition-colors"
                                  >
                                    Back
                                  </button>
                                  <button
                                    onClick={() => setCurrentStep(3)}
                                    className="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-colors"
                                  >
                                    Save and Continue
                                  </button>
                                </div>
                              </div>
                            ) : currentStep === 3 ? (
                              /* Interior Features Section - Step 4 */
                              <div>
                                <h2 className="text-xl font-bold text-gray-900 mb-8">Interior Features</h2>

                                <div className="space-y-4">
                                  {/* # of Bedrooms, # Full Baths, # Half Baths */}
                                  <div className="grid grid-cols-3 gap-4">
                                    <div>
                                      <label className="block text-sm mb-2">
                                        # of Bedrooms (All Levels) <span className="text-red-500">*</span>
                                      </label>
                                      <input
                                        type="number"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                        placeholder="0"
                                        min="0"
                                      />
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2"># Full Baths</label>
                                      <input
                                        type="number"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                        placeholder="0"
                                        min="0"
                                      />
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2"># Half Baths</label>
                                      <input
                                        type="number"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                        placeholder="0"
                                        min="0"
                                      />
                                    </div>
                                  </div>

                                  {/* Unit Floor Level */}
                                  <div>
                                    <label className="block text-sm mb-2">Unit Floor Level</label>
                                    <input
                                      type="number"
                                      className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                      placeholder="Enter floor level"
                                    />
                                  </div>

                                  {/* Approx Sq Ft and Square Feet Source */}
                                  <div className="grid grid-cols-2 gap-4">
                                    <div>
                                      <label className="block text-sm mb-2">
                                        Approx Sq Ft <span className="text-red-500">*</span>
                                      </label>
                                      <input
                                        type="number"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                        placeholder="Enter square feet"
                                      />
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2">Square Feet Source</label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>
                                  </div>

                                  {/* Building Assessor Sq Ft (Greyed out) */}
                                  <div>
                                    <label className="block text-sm mb-2">Building Assessor Sq Ft</label>
                                    <input
                                      type="number"
                                      className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none bg-gray-100 cursor-not-allowed"
                                      placeholder="Auto-calculated"
                                      disabled
                                    />
                                  </div>

                                  {/* Square Footage Comments */}
                                  <div>
                                    <label className="block text-sm mb-2">Square Footage Comments (max 240 chars)</label>
                                    <textarea
                                      rows="3"
                                      maxLength="240"
                                      className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                      placeholder="Enter comments about square footage"
                                    ></textarea>
                                  </div>

                                  {/* Upper Sq Ft and Main Sq Ft */}
                                  <div className="grid grid-cols-2 gap-4">
                                    <div>
                                      <label className="block text-sm mb-2">Upper Sq Ft</label>
                                      <input
                                        type="number"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                        placeholder="0"
                                      />
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2">Main Sq Ft</label>
                                      <input
                                        type="number"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                        placeholder="0"
                                      />
                                    </div>
                                  </div>

                                  {/* Lower Sq Ft and Unfinished Lower Sq Ft */}
                                  <div className="grid grid-cols-2 gap-4">
                                    <div>
                                      <label className="block text-sm mb-2">Lower Sq Ft</label>
                                      <input
                                        type="number"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                        placeholder="0"
                                      />
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2">Unfinished Lower Sq Ft</label>
                                      <input
                                        type="number"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                        placeholder="0"
                                      />
                                    </div>
                                  </div>

                                  {/* Above Grade Total Sq Ft (Greyed out) */}
                                  <div>
                                    <label className="block text-sm mb-2">Above Grade Total Sq Ft</label>
                                    <input
                                      type="number"
                                      className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none bg-gray-100 cursor-not-allowed"
                                      placeholder="Auto-calculated"
                                      disabled
                                    />
                                  </div>

                                  {/* Basement Sq Ft, Finished Basement Sq Ft, Unfinished Basement Sq Ft */}
                                  <div className="grid grid-cols-3 gap-4">
                                    <div>
                                      <label className="block text-sm mb-2">Basement Sq Ft</label>
                                      <input
                                        type="number"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                        placeholder="0"
                                      />
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2">Finished Basement Sq Ft</label>
                                      <input
                                        type="number"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                        placeholder="0"
                                      />
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2">Unfinished Basement Sq Ft</label>
                                      <input
                                        type="number"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                        placeholder="0"
                                      />
                                    </div>
                                  </div>

                                  {/* Aprox. Total Finished Sq Ft (Greyed out) */}
                                  <div>
                                    <label className="block text-sm mb-2">Aprox. Total Finished Sq Ft</label>
                                    <input
                                      type="number"
                                      className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none bg-gray-100 cursor-not-allowed"
                                      placeholder="Auto-calculated"
                                      disabled
                                    />
                                  </div>

                                  {/* Master Bedroom Bath and Basement */}
                                  <div className="grid grid-cols-2 gap-4">
                                    <div>
                                      <label className="block text-sm mb-2">
                                        Master Bedroom Bath (max 2) <span className="text-red-500">*</span>
                                      </label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2">
                                        Basement (max 2) <span className="text-red-500">*</span>
                                      </label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>
                                  </div>

                                  {/* Basement Description */}
                                  <div>
                                    <label className="block text-sm mb-2">Basement Description</label>
                                    <div className="relative">
                                      <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                        <option value="">Select</option>
                                      </select>
                                      <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                        <polyline points="6 9 12 15 18 9" />
                                      </svg>
                                    </div>
                                  </div>

                                  {/* Bath Amenities and # Interior Fireplaces */}
                                  <div className="grid grid-cols-2 gap-4">
                                    <div>
                                      <label className="block text-sm mb-2">Bath Amenities (max 6)</label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2"># Interior Fireplaces</label>
                                      <input
                                        type="number"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                        placeholder="0"
                                        min="0"
                                      />
                                    </div>
                                  </div>

                                  {/* Interior Property Features */}
                                  <div>
                                    <label className="block text-sm mb-2">Interior Property Features (max 6)</label>
                                    <div className="relative">
                                      <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                        <option value="">Select</option>
                                      </select>
                                      <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                        <polyline points="6 9 12 15 18 9" />
                                      </svg>
                                    </div>
                                  </div>

                                  {/* Laundry Features, Door Features, Window Features */}
                                  <div className="grid grid-cols-3 gap-4">
                                    <div>
                                      <label className="block text-sm mb-2">Laundry Features</label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2">Door Features</label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2">Window Features</label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>
                                  </div>
                                </div>

                                <div className="mt-10 flex justify-between">
                                  <button
                                    onClick={() => setCurrentStep(2)}
                                    className="px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 font-medium transition-colors"
                                  >
                                    Back
                                  </button>
                                  <button
                                    onClick={() => setCurrentStep(4)}
                                    className="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-colors"
                                  >
                                    Save and Continue
                                  </button>
                                </div>
                              </div>
                            ) : currentStep === 4 ? (
                              /* Room Details Section - Step 5 */
                              <div>
                                <h2 className="text-xl font-bold text-gray-900 mb-8">Room Details</h2>

                                <div className="space-y-6">
                                  {/* Living Room */}
                                  <div className="border-b border-gray-200 pb-6">
                                    <h3 className="text-base font-semibold text-gray-900 mb-4">Living Room</h3>
                                    <div className="space-y-4">
                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">Size (Width x Length)</label>
                                          <input
                                            type="text"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                            placeholder="e.g., 12 x 15"
                                          />
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">Level</label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                      </div>
                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">Flooring</label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">Window Treatments (max 2)</label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>

                                  {/* Dining Room */}
                                  <div className="border-b border-gray-200 pb-6">
                                    <h3 className="text-base font-semibold text-gray-900 mb-4">Dining Room</h3>
                                    <div className="space-y-4">
                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">Size (Width x Length or Combo)</label>
                                          <input
                                            type="text"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                            placeholder="e.g., 10 x 12 or Combo"
                                          />
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">Level</label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                      </div>
                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">Flooring</label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">Window Treatments (max 2)</label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>

                                  {/* Kitchen */}
                                  <div className="border-b border-gray-200 pb-6">
                                    <h3 className="text-base font-semibold text-gray-900 mb-4">Kitchen</h3>
                                    <div className="space-y-4">
                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">Size (Width x Length)</label>
                                          <input
                                            type="text"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                            placeholder="e.g., 10 x 12"
                                          />
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">Level</label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                      </div>
                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">Flooring</label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">Window Treatments (max 2)</label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>

                                  {/* Family Room */}
                                  <div className="border-b border-gray-200 pb-6">
                                    <h3 className="text-base font-semibold text-gray-900 mb-4">Family Room</h3>
                                    <div className="space-y-4">
                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">Size (Width x Length)</label>
                                          <input
                                            type="text"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                            placeholder="e.g., 14 x 18"
                                          />
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">Level</label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                      </div>
                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">Flooring</label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">Window Treatments (max 2)</label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>

                                  {/* Laundry */}
                                  <div className="border-b border-gray-200 pb-6">
                                    <h3 className="text-base font-semibold text-gray-900 mb-4">Laundry</h3>
                                    <div className="space-y-4">
                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">Size (Width x Length)</label>
                                          <input
                                            type="text"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                            placeholder="e.g., 6 x 8"
                                          />
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">Level</label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                      </div>
                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">Flooring</label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">Window Treatments (max 2)</label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>

                                  {/* Master Bedroom */}
                                  <div className="border-b border-gray-200 pb-6">
                                    <h3 className="text-base font-semibold text-gray-900 mb-4">Master Bedroom</h3>
                                    <div className="space-y-4">
                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">Size (Width x Length)</label>
                                          <input
                                            type="text"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                            placeholder="e.g., 12 x 14"
                                          />
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">Level</label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                      </div>
                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">Flooring</label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">Window Treatments (max 2)</label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>

                                  {/* 2nd Bedroom */}
                                  <div className="border-b border-gray-200 pb-6">
                                    <h3 className="text-base font-semibold text-gray-900 mb-4">2nd Bedroom</h3>
                                    <div className="space-y-4">
                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">Size (Width x Length)</label>
                                          <input
                                            type="text"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                            placeholder="e.g., 10 x 12"
                                          />
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">Level</label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                      </div>
                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">Flooring</label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">Window Treatments (max 2)</label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>

                                  {/* General Room Details */}
                                  <div className="space-y-4 pt-2">
                                    <div className="grid grid-cols-2 gap-4">
                                      <div>
                                        <label className="block text-sm mb-2">Dining Room</label>
                                        <div className="relative">
                                          <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                            <option value="">Select</option>
                                          </select>
                                          <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                            <polyline points="6 9 12 15 18 9" />
                                          </svg>
                                        </div>
                                      </div>
                                      <div>
                                        <label className="block text-sm mb-2">Kitchen Type</label>
                                        <div className="relative">
                                          <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                            <option value="">Select</option>
                                          </select>
                                          <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                            <polyline points="6 9 12 15 18 9" />
                                          </svg>
                                        </div>
                                      </div>
                                    </div>

                                    <div>
                                      <label className="block text-sm mb-2">Appliances</label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>

                                    <div>
                                      <label className="block text-sm mb-2">Additional Rooms</label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>

                                    {/* Additional Room Names */}
                                    <div className="grid grid-cols-2 gap-4">
                                      <div>
                                        <label className="block text-sm mb-2">Additional Room 1 Name</label>
                                        <div className="relative">
                                          <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                            <option value="">Select</option>
                                          </select>
                                          <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                            <polyline points="6 9 12 15 18 9" />
                                          </svg>
                                        </div>
                                      </div>
                                      <div>
                                        <label className="block text-sm mb-2">Additional Room 2 Name</label>
                                        <div className="relative">
                                          <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                            <option value="">Select</option>
                                          </select>
                                          <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                            <polyline points="6 9 12 15 18 9" />
                                          </svg>
                                        </div>
                                      </div>
                                    </div>

                                    <div className="grid grid-cols-2 gap-4">
                                      <div>
                                        <label className="block text-sm mb-2">Additional Room 3 Name</label>
                                        <div className="relative">
                                          <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                            <option value="">Select</option>
                                          </select>
                                          <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                            <polyline points="6 9 12 15 18 9" />
                                          </svg>
                                        </div>
                                      </div>
                                      <div>
                                        <label className="block text-sm mb-2">Additional Room 4 Name</label>
                                        <div className="relative">
                                          <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                            <option value="">Select</option>
                                          </select>
                                          <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                            <polyline points="6 9 12 15 18 9" />
                                          </svg>
                                        </div>
                                      </div>
                                    </div>

                                    <div className="grid grid-cols-2 gap-4">
                                      <div>
                                        <label className="block text-sm mb-2">Additional Room 5 Name</label>
                                        <div className="relative">
                                          <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                            <option value="">Select</option>
                                          </select>
                                          <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                            <polyline points="6 9 12 15 18 9" />
                                          </svg>
                                        </div>
                                      </div>
                                      <div>
                                        <label className="block text-sm mb-2">Additional Room 6 Name</label>
                                        <div className="relative">
                                          <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                            <option value="">Select</option>
                                          </select>
                                          <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                            <polyline points="6 9 12 15 18 9" />
                                          </svg>
                                        </div>
                                      </div>
                                    </div>

                                    <div className="grid grid-cols-2 gap-4">
                                      <div>
                                        <label className="block text-sm mb-2">Additional Room 7 Name</label>
                                        <div className="relative">
                                          <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                            <option value="">Select</option>
                                          </select>
                                          <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                            <polyline points="6 9 12 15 18 9" />
                                          </svg>
                                        </div>
                                      </div>
                                      <div>
                                        <label className="block text-sm mb-2">Additional Room 8 Name</label>
                                        <div className="relative">
                                          <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                            <option value="">Select</option>
                                          </select>
                                          <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                            <polyline points="6 9 12 15 18 9" />
                                          </svg>
                                        </div>
                                      </div>
                                    </div>

                                    <div className="grid grid-cols-2 gap-4">
                                      <div>
                                        <label className="block text-sm mb-2">Additional Room 9 Name</label>
                                        <div className="relative">
                                          <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                            <option value="">Select</option>
                                          </select>
                                          <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                            <polyline points="6 9 12 15 18 9" />
                                          </svg>
                                        </div>
                                      </div>
                                      <div>
                                        <label className="block text-sm mb-2">Additional Room 10 Name</label>
                                        <div className="relative">
                                          <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                            <option value="">Select</option>
                                          </select>
                                          <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                            <polyline points="6 9 12 15 18 9" />
                                          </svg>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>

                                <div className="mt-10 flex justify-between">
                                  <button
                                    onClick={() => setCurrentStep(3)}
                                    className="px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 font-medium transition-colors"
                                  >
                                    Back
                                  </button>
                                  <button
                                    onClick={() => setCurrentStep(5)}
                                    className="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-colors"
                                  >
                                    Save and Continue
                                  </button>
                                </div>
                              </div>
                            ) : currentStep === 5 ? (
                              /* Utilities/Green Section - Step 6 */
                              <div>
                                <h2 className="text-xl font-bold text-gray-900 mb-8">Utilities/Green</h2>

                                <div className="space-y-4">
                                  {/* Air Conditioning and Water */}
                                  <div className="grid grid-cols-2 gap-4">
                                    <div>
                                      <label className="block text-sm mb-2">Air Conditioning</label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2">Water (2 max)</label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>
                                  </div>

                                  {/* Sewer and Electricity */}
                                  <div className="grid grid-cols-2 gap-4">
                                    <div>
                                      <label className="block text-sm mb-2">Sewer (2 max)</label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2">Electricity</label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>
                                  </div>

                                  {/* Heat/Fuel and HERS Index Score */}
                                  <div className="grid grid-cols-2 gap-4">
                                    <div>
                                      <label className="block text-sm mb-2">Heat/Fuel</label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2">HERS Index Score</label>
                                      <input
                                        type="number"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                        placeholder="Enter score"
                                      />
                                    </div>
                                  </div>

                                  {/* Green Supporting Documents and Energy/Green Building Rating Source */}
                                  <div className="grid grid-cols-2 gap-4">
                                    <div>
                                      <label className="block text-sm mb-2">Green Supporting Documents</label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2">Energy/Green Building Rating Source</label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>
                                  </div>

                                  {/* Green Features and Equipment */}
                                  <div className="grid grid-cols-2 gap-4">
                                    <div>
                                      <label className="block text-sm mb-2">Green Features</label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2">Equipment</label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>
                                  </div>

                                  {/* Electricity Account # and Gas Account # */}
                                  <div className="grid grid-cols-2 gap-4">
                                    <div>
                                      <label className="block text-sm mb-2">Electricity Account #</label>
                                      <input
                                        type="number"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                        placeholder="Enter account number"
                                      />
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2">Gas Account #</label>
                                      <input
                                        type="number"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                        placeholder="Enter account number"
                                      />
                                    </div>
                                  </div>
                                </div>

                                <div className="mt-10 flex justify-between">
                                  <button
                                    onClick={() => setCurrentStep(4)}
                                    className="px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 font-medium transition-colors"
                                  >
                                    Back
                                  </button>
                                  <button
                                    onClick={() => setCurrentStep(6)}
                                    className="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-colors"
                                  >
                                    Save and Continue
                                  </button>
                                </div>
                              </div>
                            ) : currentStep === 6 ? (
                              /* Tax/Assessment Section - Step 7 */
                              <div>
                                <h2 className="text-xl font-bold text-gray-900 mb-8">Tax/Assessment</h2>

                                <div className="space-y-4">
                                  {/* Tax Year and Tax Exemptions */}
                                  <div className="grid grid-cols-2 gap-4">
                                    <div>
                                      <label className="block text-sm mb-2">Tax Year</label>
                                      <input
                                        type="number"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                        placeholder="e.g., 2024"
                                      />
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2">Tax Exemptions</label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>
                                  </div>

                                  {/* Primary Parcel Tax Amount and Total Taxes */}
                                  <div className="grid grid-cols-2 gap-4">
                                    <div>
                                      <label className="block text-sm mb-2">Primary Parcel Tax Amount</label>
                                      <input
                                        type="number"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                        placeholder="Enter amount"
                                      />
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2">Total Taxes</label>
                                      <input
                                        type="number"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                        placeholder="Enter amount"
                                      />
                                    </div>
                                  </div>

                                  {/* Special Assessments and Special Service Area */}
                                  <div className="grid grid-cols-2 gap-4">
                                    <div>
                                      <label className="block text-sm mb-2">Special Assessments</label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select</option>
                                          <option value="Y">Yes</option>
                                          <option value="N">No</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2">Special Service Area</label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select</option>
                                          <option value="Y">Yes</option>
                                          <option value="N">No</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>
                                  </div>

                                  {/* Special Service Area Fee */}
                                  <div className="grid grid-cols-2 gap-4">
                                    <div>
                                      <label className="block text-sm mb-2">Special Service Area Fee</label>
                                      <input
                                        type="number"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                        placeholder="Enter fee"
                                      />
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2">Assessment/Association Dues $</label>
                                      <input
                                        type="number"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                        placeholder="Enter amount"
                                      />
                                    </div>
                                  </div>

                                  {/* Frequency and Master Association Fee */}
                                  <div className="grid grid-cols-2 gap-4">
                                    <div>
                                      <label className="block text-sm mb-2">Frequency</label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select</option>
                                          <option value="monthly">Monthly</option>
                                          <option value="quarterly">Quarterly</option>
                                          <option value="annually">Annually</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2">Master Association Fee</label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select</option>
                                          <option value="Y">Yes</option>
                                          <option value="N">No</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>
                                  </div>

                                  {/* Master Association Fee($) and Frequency */}
                                  <div className="grid grid-cols-2 gap-4">
                                    <div>
                                      <label className="block text-sm mb-2">Master Association Fee ($)</label>
                                      <input
                                        type="number"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                        placeholder="Enter fee"
                                      />
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2">Master Association Fee Frequency</label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select</option>
                                          <option value="monthly">Monthly</option>
                                          <option value="quarterly">Quarterly</option>
                                          <option value="annually">Annually</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>
                                  </div>

                                  {/* Coop Annual Tax Deduction and Year */}
                                  <div className="grid grid-cols-2 gap-4">
                                    <div>
                                      <label className="block text-sm mb-2">Coop Annual Tax Deduction</label>
                                      <input
                                        type="number"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                        placeholder="Enter amount"
                                      />
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2">Coop Tax Deduction Year</label>
                                      <input
                                        type="number"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                        placeholder="e.g., 2024"
                                      />
                                    </div>
                                  </div>

                                  {/* Fees/Approvals */}
                                  <div>
                                    <label className="block text-sm mb-2">Fees/Approvals</label>
                                    <div className="relative">
                                      <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                        <option value="">Select</option>
                                      </select>
                                      <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                        <polyline points="6 9 12 15 18 9" />
                                      </svg>
                                    </div>
                                  </div>
                                </div>

                                <div className="mt-10 flex justify-between">
                                  <button
                                    onClick={() => setCurrentStep(5)}
                                    className="px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 font-medium transition-colors"
                                  >
                                    Back
                                  </button>
                                  <button
                                    onClick={() => setCurrentStep(7)}
                                    className="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-colors"
                                  >
                                    Save and Continue
                                  </button>
                                </div>
                              </div>
                            ) : currentStep === 7 ? (
                              /* Office/Sales Info Section - Step 8 */
                              <div>
                                <h2 className="text-xl font-bold text-gray-900 mb-8">Office/Sales Info</h2>

                                <div className="space-y-4">
                                  {/* Showings Y/N and Broker Owned/Interest */}
                                  <div className="grid grid-cols-2 gap-4">
                                    <div>
                                      <label className="block text-sm mb-2">
                                        Showings <span className="text-red-500">*</span>
                                      </label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select</option>
                                          <option value="Y">Yes</option>
                                          <option value="N">No</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2">Broker Owned/Interest</label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select</option>
                                          <option value="Y">Yes</option>
                                          <option value="N">No</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>
                                  </div>

                                  {/* Showing Instructions */}
                                  <div>
                                    <label className="block text-sm mb-2">Showing Instructions</label>
                                    <textarea
                                      className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                      rows="4"
                                      placeholder="Max 4000 characters"
                                    ></textarea>
                                  </div>

                                  {/* Broker Private Remarks */}
                                  <div>
                                    <label className="block text-sm mb-2">Broker Private Remarks</label>
                                    <textarea
                                      className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                      rows="3"
                                      placeholder="Max 1000 characters"
                                    ></textarea>
                                  </div>

                                  {/* Upload up to 5 Photos */}
                                  <div>
                                    <label className="block text-sm mb-2">Upload up to 5 Photos</label>
                                    <button
                                      type="button"
                                      onClick={handleUploadClick}
                                      className="w-full px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors text-left text-gray-700 bg-white"
                                    >
                                      Click to upload photos
                                    </button>

                                    {/* Display uploaded photos */}
                                    {uploadedPhotos.length > 0 && (
                                      <div className="mt-4">
                                        <h3 className="text-sm font-medium text-gray-700 mb-2">
                                          Uploaded Documents ({uploadedPhotos.length})
                                        </h3>
                                        <div className="space-y-2">
                                          {uploadedPhotos.map((file, index) => (
                                            <div
                                              key={index}
                                              className="flex items-center justify-between p-3 bg-green-50 border border-green-200 rounded-lg"
                                            >
                                              <div className="flex items-center gap-3">
                                                <svg
                                                  className="text-green-600"
                                                  width="20"
                                                  height="20"
                                                  viewBox="0 0 24 24"
                                                  fill="none"
                                                  stroke="currentColor"
                                                  strokeWidth="2"
                                                  strokeLinecap="round"
                                                  strokeLinejoin="round"
                                                >
                                                  <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                                                  <polyline points="14 2 14 8 20 8"></polyline>
                                                </svg>
                                                <div>
                                                  <p className="text-sm font-medium text-gray-900">{file.name}</p>
                                                  <p className="text-xs text-gray-500">({formatFileSize(file.size)})</p>
                                                </div>
                                              </div>
                                              <button
                                                type="button"
                                                onClick={() => handleRemoveUploadedPhoto(index)}
                                                className="text-red-500 hover:text-red-700 transition-colors"
                                              >
                                                <svg
                                                  width="20"
                                                  height="20"
                                                  viewBox="0 0 24 24"
                                                  fill="none"
                                                  stroke="currentColor"
                                                  strokeWidth="2"
                                                  strokeLinecap="round"
                                                  strokeLinejoin="round"
                                                >
                                                  <line x1="18" y1="6" x2="6" y2="18"></line>
                                                  <line x1="6" y1="6" x2="18" y2="18"></line>
                                                </svg>
                                              </button>
                                            </div>
                                          ))}
                                        </div>
                                      </div>
                                    )}
                                  </div>

                                  {/* Include this listing in First Look */}
                                  <div className="flex items-center gap-3">
                                    <input
                                      type="checkbox"
                                      id="firstLook"
                                      className="w-4 h-4 border-gray-300 rounded focus:ring-blue-500"
                                    />
                                    <label htmlFor="firstLook" className="text-sm">
                                      Include this listing in First Look
                                    </label>
                                  </div>

                                  {/* Listing Type and Holds Earnest Money */}
                                  <div className="grid grid-cols-2 gap-4">
                                    <div>
                                      <label className="block text-sm mb-2">Listing Type</label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2">Holds Earnest Money</label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select</option>
                                          <option value="Y">Yes</option>
                                          <option value="N">No</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>
                                  </div>

                                  {/* Lock Box Type and Additional Sales Information */}
                                  <div className="grid grid-cols-2 gap-4">
                                    <div>
                                      <label className="block text-sm mb-2">Lock Box Type (2 max)</label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2">Additional Sales Information</label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>
                                  </div>

                                  {/* Broker Notices and Management Company */}
                                  <div className="grid grid-cols-2 gap-4">
                                    <div>
                                      <label className="block text-sm mb-2">Broker Notices</label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2">Management Company</label>
                                      <input
                                        type="text"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                        placeholder="Enter company name"
                                      />
                                    </div>
                                  </div>

                                  {/* Management Contact Name and Phone */}
                                  <div className="grid grid-cols-2 gap-4">
                                    <div>
                                      <label className="block text-sm mb-2">Management Contact Name</label>
                                      <input
                                        type="text"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                        placeholder="Enter contact name"
                                      />
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2">Management Phone</label>
                                      <input
                                        type="tel"
                                        value={formFields.plnManagementPhone || ''}
                                        onChange={(e) => handleFieldChange('plnManagementPhone', e.target.value)}
                                        className={`w-full px-4 py-2 border rounded-lg focus:outline-none ${
                                          formValidation.plnManagementPhone
                                            ? 'border-red-500 focus:border-red-500'
                                            : 'border-gray-300 focus:border-blue-500'
                                        }`}
                                        placeholder="(555) 123-4567"
                                      />
                                      {formValidation.plnManagementPhone && (
                                        <p className="text-red-500 text-sm mt-1">
                                          {formValidation.plnManagementPhone}
                                        </p>
                                      )}
                                    </div>
                                  </div>

                                  {/* Possession and Sale Terms */}
                                  <div className="grid grid-cols-2 gap-4">
                                    <div>
                                      <label className="block text-sm mb-2">Possession</label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2">Sale Terms</label>
                                      <div className="relative">
                                        <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                          <option value="">Select</option>
                                        </select>
                                        <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                          <polyline points="6 9 12 15 18 9" />
                                        </svg>
                                      </div>
                                    </div>
                                  </div>

                                  {/* List Broker Additional Info */}
                                  <div>
                                    <label className="block text-sm mb-2">List Broker Additional Info</label>
                                    <input
                                      type="text"
                                      className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                      placeholder="Enter additional info"
                                    />
                                  </div>

                                  {/* Owner's Name and Phone */}
                                  <div className="grid grid-cols-2 gap-4">
                                    <div>
                                      <label className="block text-sm mb-2">Owner's Name</label>
                                      <input
                                        type="text"
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                        placeholder="Enter owner's name"
                                      />
                                    </div>
                                    <div>
                                      <label className="block text-sm mb-2">Owner's Phone</label>
                                      <input
                                        type="tel"
                                        value={formFields.plnOwnerPhone || ''}
                                        onChange={(e) => handleFieldChange('plnOwnerPhone', e.target.value)}
                                        className={`w-full px-4 py-2 border rounded-lg focus:outline-none ${
                                          formValidation.plnOwnerPhone
                                            ? 'border-red-500 focus:border-red-500'
                                            : 'border-gray-300 focus:border-blue-500'
                                        }`}
                                        placeholder="(555) 123-4567"
                                      />
                                      {formValidation.plnOwnerPhone && (
                                        <p className="text-red-500 text-sm mt-1">
                                          {formValidation.plnOwnerPhone}
                                        </p>
                                      )}
                                    </div>
                                  </div>

                                  {/* For Investors, Can Owner Rent Unit? */}
                                  <div>
                                    <label className="block text-sm mb-2">For Investors, Can Owner Rent Unit?</label>
                                    <div className="relative">
                                      <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                        <option value="">Select</option>
                                        <option value="Y">Yes</option>
                                        <option value="N">No</option>
                                      </select>
                                      <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                        <polyline points="6 9 12 15 18 9" />
                                      </svg>
                                    </div>
                                  </div>

                                  {/* Secure ShowingTime Instructions */}
                                  <div>
                                    <label className="block text-sm mb-2">Secure ShowingTime Instructions</label>
                                    <textarea
                                      className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                      rows="3"
                                      placeholder="Max 512 characters"
                                    ></textarea>
                                  </div>
                                </div>

                                <div className="mt-10 flex justify-between">
                                  <button
                                    onClick={() => setCurrentStep(6)}
                                    className="px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 font-medium transition-colors"
                                  >
                                    Back
                                  </button>
                                  <button
                                    type="submit"
                                    className="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-colors"
                                  >
                                    Submit
                                  </button>
                                </div>
                              </div>
                            ) : null}
                              </>
                            ) : listingType === 'mls' ? (
                              /* MLS Form */
                              <>
                                {currentStep === 0 ? (
                                  /* MLS Basic Info Section - Step 1 */
                                  <div>
                                    <h2 className="text-xl font-bold text-gray-900 mb-8">Basic Info</h2>

                                    <div className="space-y-4">
                                      {/* Is property also listed for rent? */}
                                      <div>
                                        <label className="block text-sm mb-2">
                                          Is property also listed for rent? <span className="text-red-500">*</span>
                                        </label>
                                        <div className="relative">
                                          <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                            <option value="">Select</option>
                                            <option value="Y">Yes</option>
                                            <option value="N">No</option>
                                          </select>
                                          <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                            <polyline points="6 9 12 15 18 9" />
                                          </svg>
                                        </div>
                                      </div>

                                      {/* Area */}
                                      <div>
                                        <label className="block text-sm mb-2">
                                          Area <span className="text-red-500">*</span>
                                        </label>
                                        <div className="relative">
                                          <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                            <option value="">Select area</option>
                                          </select>
                                          <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                            <polyline points="6 9 12 15 18 9" />
                                          </svg>
                                        </div>
                                      </div>

                                      {/* Street Number and Street Name */}
                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">
                                            Street Number <span className="text-red-500">*</span>
                                          </label>
                                          <input
                                            type="text"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                            placeholder="123"
                                          />
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">
                                            Compass Point
                                          </label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                              <option value="N">N</option>
                                              <option value="S">S</option>
                                              <option value="E">E</option>
                                              <option value="W">W</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                      </div>

                                      {/* Street Name and Street Suffix */}
                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">
                                            Street Name <span className="text-red-500">*</span>
                                          </label>
                                          <input
                                            type="text"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                            placeholder="Main"
                                          />
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">Street Suffix</label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                              <option value="St">Street</option>
                                              <option value="Ave">Avenue</option>
                                              <option value="Blvd">Boulevard</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                      </div>

                                      {/* Unit Number */}
                                      <div>
                                        <label className="block text-sm mb-2">Unit Number</label>
                                        <input
                                          type="text"
                                          className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                          placeholder="Unit #"
                                        />
                                      </div>

                                      {/* City, State, Zip */}
                                      <div className="grid grid-cols-3 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">
                                            City <span className="text-red-500">*</span>
                                          </label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">
                                            State <span className="text-red-500">*</span>
                                          </label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">
                                            Zip Code <span className="text-red-500">*</span>
                                          </label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                      </div>

                                      {/* Additional Zip and Parcel Identification Number */}
                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">Additional Zip</label>
                                          <input
                                            type="text"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                            placeholder="Enter additional zip"
                                          />
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">
                                            Parcel Identification Number <span className="text-red-500">*</span>
                                          </label>
                                          <input
                                            type="text"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                            placeholder="Enter PIN"
                                          />
                                        </div>
                                      </div>

                                      {/* Multiple Pin Numbers */}
                                      <div>
                                        <label className="block text-sm mb-2">Multiple Pin Numbers</label>
                                        <div className="relative">
                                          <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                            <option value="">Select</option>
                                            <option value="Y">Yes</option>
                                            <option value="N">No</option>
                                          </select>
                                          <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                            <polyline points="6 9 12 15 18 9" />
                                          </svg>
                                        </div>
                                      </div>

                                      {/* County and Township */}
                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">County</label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">Township</label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                      </div>

                                      {/* Corporate Limits */}
                                      <div>
                                        <label className="block text-sm mb-2">
                                          Corporate Limits <span className="text-red-500">*</span>
                                        </label>
                                        <div className="relative">
                                          <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                            <option value="">Select</option>
                                          </select>
                                          <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                            <polyline points="6 9 12 15 18 9" />
                                          </svg>
                                        </div>
                                      </div>

                                      {/* List Price */}
                                      <div>
                                        <label className="block text-sm mb-2">List Price</label>
                                        <input
                                          type="number"
                                          className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                          placeholder="$"
                                        />
                                      </div>

                                      {/* List Date and Expiration Date */}
                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">List Date</label>
                                          <input
                                            type="date"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                          />
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">
                                            Expiration Date <span className="text-red-500">*</span>
                                          </label>
                                          <input
                                            type="date"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                          />
                                        </div>
                                      </div>

                                      {/* List Agent ID and List Office ID */}
                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">
                                            List Agent ID <span className="text-red-500">*</span>
                                          </label>
                                          <input
                                            type="number"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                            placeholder="Enter agent ID"
                                          />
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">
                                            List Office ID <span className="text-red-500">*</span>
                                          </label>
                                          <input
                                            type="number"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                            placeholder="Enter office ID"
                                          />
                                        </div>
                                      </div>

                                      {/* Co-Lister ID */}
                                      <div>
                                        <label className="block text-sm mb-2">Co-Lister ID</label>
                                        <input
                                          type="number"
                                          className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                          placeholder="Enter co-lister ID"
                                        />
                                      </div>

                                      {/* Allow Co-Lister to Edit this Listing */}
                                      <div>
                                        <label className="block text-sm mb-2">Allow Co-Lister to Edit this Listing</label>
                                        <div className="relative">
                                          <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                            <option value="">Select</option>
                                            <option value="Y">Yes</option>
                                            <option value="N">No</option>
                                          </select>
                                          <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                            <polyline points="6 9 12 15 18 9" />
                                          </svg>
                                        </div>
                                      </div>
                                    </div>

                                    <div className="mt-10 flex justify-end">
                                      <button
                                        onClick={() => setCurrentStep(1)}
                                        className="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-colors"
                                      >
                                        Save and Continue
                                      </button>
                                    </div>
                                  </div>
                                ) : currentStep === 1 ? (
                                  /* MLS General Section - Step 2 */
                                  <div>
                                    <h2 className="text-xl font-bold text-gray-900 mb-8">General</h2>

                                    <div className="space-y-4">
                                      {/* Directions */}
                                      <div>
                                        <label className="block text-sm mb-2">Directions</label>
                                        <textarea
                                          className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                          rows="2"
                                          placeholder="Enter directions"
                                        ></textarea>
                                      </div>

                                      {/* Cross Streets: North, South, East, West */}
                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">North</label>
                                          <input
                                            type="text"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                            placeholder="North cross street"
                                          />
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">South</label>
                                          <input
                                            type="text"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                            placeholder="South cross street"
                                          />
                                        </div>
                                      </div>

                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">East</label>
                                          <input
                                            type="text"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                            placeholder="East cross street"
                                          />
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">West</label>
                                          <input
                                            type="text"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                            placeholder="West cross street"
                                          />
                                        </div>
                                      </div>

                                      {/* Subdivision and Model */}
                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">Subdivision</label>
                                          <input
                                            type="text"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                            placeholder="Enter subdivision"
                                          />
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">Model</label>
                                          <input
                                            type="text"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                            placeholder="Enter model"
                                          />
                                        </div>
                                      </div>

                                      {/* Elementary School District and School */}
                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">
                                            Elementary School District <span className="text-red-500">*</span>
                                          </label>
                                          <input
                                            type="text"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                            placeholder="Enter district"
                                          />
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">Elementary School</label>
                                          <input
                                            type="text"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                            placeholder="Enter school"
                                          />
                                        </div>
                                      </div>

                                      {/* 2nd/Alternate Elementary School */}
                                      <div>
                                        <label className="block text-sm mb-2">2nd/Alternate Elementary School</label>
                                        <input
                                          type="text"
                                          className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                          placeholder="Enter alternate school"
                                        />
                                      </div>

                                      {/* Junior High/Middle School District and School */}
                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">
                                            Junior High/Middle School District <span className="text-red-500">*</span>
                                          </label>
                                          <input
                                            type="text"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                            placeholder="Enter district"
                                          />
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">Junior High/Middle School</label>
                                          <input
                                            type="text"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                            placeholder="Enter school"
                                          />
                                        </div>
                                      </div>

                                      {/* 2nd/Alternate Junior High/Middle School */}
                                      <div>
                                        <label className="block text-sm mb-2">2nd/Alternate Junior High/Middle School</label>
                                        <input
                                          type="text"
                                          className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                          placeholder="Enter alternate school"
                                        />
                                      </div>

                                      {/* High School District and School */}
                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">
                                            High School District <span className="text-red-500">*</span>
                                          </label>
                                          <input
                                            type="text"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                            placeholder="Enter district"
                                          />
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">High School</label>
                                          <input
                                            type="text"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                            placeholder="Enter school"
                                          />
                                        </div>
                                      </div>

                                      {/* 2nd/Alternate High School */}
                                      <div>
                                        <label className="block text-sm mb-2">2nd/Alternate High School</label>
                                        <input
                                          type="text"
                                          className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                          placeholder="Enter alternate school"
                                        />
                                      </div>

                                      {/* Other Public School District and School */}
                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">Other Public School District</label>
                                          <input
                                            type="text"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                            placeholder="Enter district"
                                          />
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">Other Public School</label>
                                          <input
                                            type="text"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                            placeholder="Enter school"
                                          />
                                        </div>
                                      </div>

                                      {/* Ownership and Year Built */}
                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">
                                            Ownership <span className="text-red-500">*</span>
                                          </label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">
                                            Approx Year Built <span className="text-red-500">*</span>
                                          </label>
                                          <input
                                            type="number"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                            placeholder="YYYY or Unknown"
                                          />
                                        </div>
                                      </div>

                                      {/* Built Before 1978 and Age */}
                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">
                                            Built Before 1978 <span className="text-red-500">*</span>
                                          </label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                              <option value="Y">Yes</option>
                                              <option value="N">No</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">
                                            Age <span className="text-red-500">*</span>
                                          </label>
                                          <input
                                            type="number"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                            placeholder="Enter age"
                                          />
                                        </div>
                                      </div>

                                      {/* Rehab and Rebuilt */}
                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">
                                            Rehab <span className="text-red-500">*</span>
                                          </label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                              <option value="Y">Yes</option>
                                              <option value="N">No</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">
                                            Rebuilt <span className="text-red-500">*</span>
                                          </label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                              <option value="Y">Yes</option>
                                              <option value="N">No</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                      </div>

                                      {/* Total # Units in Building and Waterfront */}
                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">
                                            Total # Units in Building <span className="text-red-500">*</span>
                                          </label>
                                          <input
                                            type="number"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                            placeholder="Enter number"
                                          />
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">
                                            Waterfront <span className="text-red-500">*</span>
                                          </label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                              <option value="Y">Yes</option>
                                              <option value="N">No</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                      </div>

                                      {/* Property Currently Being Leased */}
                                      <div>
                                        <label className="block text-sm mb-2">Property Currently Being Leased</label>
                                        <div className="relative">
                                          <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                            <option value="">Select</option>
                                            <option value="Y">Yes</option>
                                            <option value="N">No</option>
                                          </select>
                                          <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                            <polyline points="6 9 12 15 18 9" />
                                          </svg>
                                        </div>
                                      </div>

                                      {/* % Owner Occupied and % Common Area/Coop/Condo Ownership */}
                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">% Owner Occupied</label>
                                          <input
                                            type="number"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                            placeholder="Enter percentage"
                                          />
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">% Common Area/Coop/Condo Ownership</label>
                                          <input
                                            type="number"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                            placeholder="Enter percentage"
                                          />
                                        </div>
                                      </div>

                                      {/* # Of Days For Bd Approval and Pets Allowed */}
                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">
                                            # Of Days For Bd Approval <span className="text-red-500">*</span>
                                          </label>
                                          <input
                                            type="number"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                            placeholder="Enter days"
                                          />
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">
                                            Pets Allowed <span className="text-red-500">*</span>
                                          </label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                              <option value="Y">Yes</option>
                                              <option value="N">No</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                      </div>

                                      {/* Type Attached and # Stories */}
                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">
                                            Type Attached <span className="text-red-500">*</span>
                                          </label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">
                                            # Stories <span className="text-red-500">*</span>
                                          </label>
                                          <input
                                            type="number"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                            placeholder="Enter number"
                                          />
                                        </div>
                                      </div>

                                      {/* Management and General Information */}
                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">Management</label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">
                                            General Information <span className="text-red-500">*</span>
                                          </label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                      </div>

                                      {/* Exposure and Common Area Amenities */}
                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">Exposure</label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">Common Area Amenities</label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                      </div>

                                      {/* Disability Access and/or Equipped */}
                                      <div>
                                        <label className="block text-sm mb-2">
                                          Disability Access and/or Equipped <span className="text-red-500">*</span>
                                        </label>
                                        <div className="relative">
                                          <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                            <option value="">Select</option>
                                          </select>
                                          <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                            <polyline points="6 9 12 15 18 9" />
                                          </svg>
                                        </div>
                                      </div>

                                      {/* Remarks */}
                                      <div>
                                        <label className="block text-sm mb-2">Remarks</label>
                                        <textarea
                                          className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                          rows="4"
                                          placeholder="Enter remarks"
                                        ></textarea>
                                      </div>
                                    </div>

                                    <div className="mt-10 flex justify-between">
                                      <button
                                        onClick={() => setCurrentStep(0)}
                                        className="px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 font-medium transition-colors"
                                      >
                                        Back
                                      </button>
                                      <button
                                        onClick={() => setCurrentStep(2)}
                                        className="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-colors"
                                      >
                                        Save and Continue
                                      </button>
                                    </div>
                                  </div>
                                ) : currentStep === 2 ? (
                                  /* MLS Exterior Features Section - Step 3 */
                                  <div>
                                    <h2 className="text-xl font-bold text-gray-900 mb-8">Exterior Features</h2>

                                    <div className="space-y-4">
                                      {/* Lot Dimensions */}
                                      <div>
                                        <label className="block text-sm mb-2">
                                          Lot Dimensions <span className="text-red-500">*</span>
                                        </label>
                                        <input
                                          type="text"
                                          className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                          placeholder="e.g., 50 x 100"
                                        />
                                      </div>

                                      {/* Exterior Building Type (3 max) */}
                                      <div>
                                        <label className="block text-sm mb-2">
                                          Exterior Building Type (3 max) <span className="text-red-500">*</span>
                                        </label>
                                        <div className="relative">
                                          <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                            <option value="">Select</option>
                                          </select>
                                          <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                            <polyline points="6 9 12 15 18 9" />
                                          </svg>
                                        </div>
                                      </div>

                                      {/* Lot Description (6 max) */}
                                      <div>
                                        <label className="block text-sm mb-2">Lot Description (6 max)</label>
                                        <div className="relative">
                                          <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                            <option value="">Select</option>
                                          </select>
                                          <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                            <polyline points="6 9 12 15 18 9" />
                                          </svg>
                                        </div>
                                      </div>

                                      {/* Roof Type and Foundation */}
                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">Roof Type</label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">Foundation</label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                      </div>

                                      {/* Exterior Property Features (6 max) */}
                                      <div>
                                        <label className="block text-sm mb-2">Exterior Property Features (6 max)</label>
                                        <div className="relative">
                                          <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                            <option value="">Select</option>
                                          </select>
                                          <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                            <polyline points="6 9 12 15 18 9" />
                                          </svg>
                                        </div>
                                      </div>

                                      {/* Parking */}
                                      <div>
                                        <label className="block text-sm mb-2">
                                          Parking <span className="text-red-500">*</span>
                                        </label>
                                        <div className="relative">
                                          <select
                                            value={parkingType}
                                            onChange={(e) => setParkingType(e.target.value)}
                                            className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white"
                                          >
                                            <option value="">Select</option>
                                            <option value="G">Garage</option>
                                            <option value="S">Space/Parking</option>
                                            <option value="N">None</option>
                                          </select>
                                          <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                            <polyline points="6 9 12 15 18 9" />
                                          </svg>
                                        </div>
                                      </div>

                                      {/* Conditional Garage Fields */}
                                      {parkingType === 'G' && (
                                        <>
                                          <div className="grid grid-cols-2 gap-4">
                                            <div>
                                              <label className="block text-sm mb-2">
                                                Is Parking Included in Price? <span className="text-red-500">*</span>
                                              </label>
                                              <div className="relative">
                                                <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                                  <option value="">Select</option>
                                                  <option value="Y">Yes</option>
                                                  <option value="N">No</option>
                                                </select>
                                                <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                                  <polyline points="6 9 12 15 18 9" />
                                                </svg>
                                              </div>
                                            </div>
                                            <div>
                                              <label className="block text-sm mb-2">
                                                Garage Ownership <span className="text-red-500">*</span>
                                              </label>
                                              <div className="relative">
                                                <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                                  <option value="">Select</option>
                                                </select>
                                                <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                                  <polyline points="6 9 12 15 18 9" />
                                                </svg>
                                              </div>
                                            </div>
                                          </div>

                                          <div className="grid grid-cols-2 gap-4">
                                            <div>
                                              <label className="block text-sm mb-2">
                                                Garage On-Site <span className="text-red-500">*</span>
                                              </label>
                                              <div className="relative">
                                                <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                                  <option value="">Select</option>
                                                  <option value="Y">Yes</option>
                                                  <option value="N">No</option>
                                                </select>
                                                <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                                  <polyline points="6 9 12 15 18 9" />
                                                </svg>
                                              </div>
                                            </div>
                                            <div>
                                              <label className="block text-sm mb-2">
                                                Garage Type <span className="text-red-500">*</span>
                                              </label>
                                              <div className="relative">
                                                <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                                  <option value="">Select</option>
                                                </select>
                                                <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                                  <polyline points="6 9 12 15 18 9" />
                                                </svg>
                                              </div>
                                            </div>
                                          </div>

                                          <div className="grid grid-cols-2 gap-4">
                                            <div>
                                              <label className="block text-sm mb-2">
                                                # Garage Spaces <span className="text-red-500">*</span>
                                              </label>
                                              <input
                                                type="number"
                                                className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                                placeholder="Enter number"
                                              />
                                            </div>
                                            <div>
                                              <label className="block text-sm mb-2">Garage Details</label>
                                              <div className="relative">
                                                <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                                  <option value="">Select</option>
                                                </select>
                                                <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                                  <polyline points="6 9 12 15 18 9" />
                                                </svg>
                                              </div>
                                            </div>
                                          </div>
                                        </>
                                      )}

                                      {/* Conditional Space/Parking Fields */}
                                      {parkingType === 'S' && (
                                        <>
                                          <div className="grid grid-cols-2 gap-4">
                                            <div>
                                              <label className="block text-sm mb-2">
                                                Is Parking Included in Price? <span className="text-red-500">*</span>
                                              </label>
                                              <div className="relative">
                                                <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                                  <option value="">Select</option>
                                                  <option value="Y">Yes</option>
                                                  <option value="N">No</option>
                                                </select>
                                                <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                                  <polyline points="6 9 12 15 18 9" />
                                                </svg>
                                              </div>
                                            </div>
                                            <div>
                                              <label className="block text-sm mb-2">
                                                Parking Ownership <span className="text-red-500">*</span>
                                              </label>
                                              <div className="relative">
                                                <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                                  <option value="">Select</option>
                                                </select>
                                                <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                                  <polyline points="6 9 12 15 18 9" />
                                                </svg>
                                              </div>
                                            </div>
                                          </div>

                                          <div className="grid grid-cols-2 gap-4">
                                            <div>
                                              <label className="block text-sm mb-2">
                                                Parking On-Site <span className="text-red-500">*</span>
                                              </label>
                                              <div className="relative">
                                                <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                                  <option value="">Select</option>
                                                  <option value="Y">Yes</option>
                                                  <option value="N">No</option>
                                                </select>
                                                <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                                  <polyline points="6 9 12 15 18 9" />
                                                </svg>
                                              </div>
                                            </div>
                                            <div>
                                              <label className="block text-sm mb-2">
                                                # Parking Spaces <span className="text-red-500">*</span>
                                              </label>
                                              <input
                                                type="number"
                                                className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                                placeholder="Enter number"
                                              />
                                            </div>
                                          </div>

                                          <div>
                                            <label className="block text-sm mb-2">Parking Details</label>
                                            <div className="relative">
                                              <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                                <option value="">Select</option>
                                              </select>
                                              <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                                <polyline points="6 9 12 15 18 9" />
                                              </svg>
                                            </div>
                                          </div>
                                        </>
                                      )}

                                      {/* Driveway - shown for all parking types */}
                                      <div>
                                        <label className="block text-sm mb-2">Driveway</label>
                                        <div className="relative">
                                          <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                            <option value="">Select</option>
                                          </select>
                                          <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                            <polyline points="6 9 12 15 18 9" />
                                          </svg>
                                        </div>
                                      </div>
                                    </div>

                                    <div className="mt-10 flex justify-between">
                                      <button
                                        onClick={() => setCurrentStep(1)}
                                        className="px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 font-medium transition-colors"
                                      >
                                        Back
                                      </button>
                                      <button
                                        onClick={() => setCurrentStep(3)}
                                        className="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-colors"
                                      >
                                        Save and Continue
                                      </button>
                                    </div>
                                  </div>
                                ) : currentStep === 3 ? (
                                  /* Step 4: Interior Features */
                                  <div>
                                    <h2 className="text-xl font-semibold mb-6">Interior Features</h2>
                                    <div className="space-y-4">
                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">
                                            Unit Floor Level <span className="text-red-500">*</span>
                                          </label>
                                          <input
                                            type="text"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                            placeholder="Enter floor level"
                                          />
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">
                                            Approx Sq Ft <span className="text-red-500">*</span>
                                          </label>
                                          <input
                                            type="number"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                            placeholder="Enter square feet"
                                          />
                                        </div>
                                      </div>

                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">
                                            Square Feet Source <span className="text-red-500">*</span>
                                          </label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">Building Assessor Sq Ft</label>
                                          <input
                                            type="number"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 bg-gray-100 cursor-not-allowed"
                                            placeholder="Auto-calculated"
                                            disabled
                                          />
                                        </div>
                                      </div>

                                      <div>
                                        <label className="block text-sm mb-2">Square Footage Comments</label>
                                        <input
                                          type="text"
                                          maxLength={240}
                                          className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                          placeholder="Enter comments (240 characters max)"
                                        />
                                      </div>

                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">Upper Sq Ft</label>
                                          <input
                                            type="number"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                            placeholder="Enter square feet"
                                          />
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">Main Sq Ft</label>
                                          <input
                                            type="number"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                            placeholder="Enter square feet"
                                          />
                                        </div>
                                      </div>

                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">Lower Sq Ft</label>
                                          <input
                                            type="number"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                            placeholder="Enter square feet"
                                          />
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">Unfinished Lower Sq Ft</label>
                                          <input
                                            type="number"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                            placeholder="Enter square feet"
                                          />
                                        </div>
                                      </div>

                                      <div>
                                        <label className="block text-sm mb-2">Above Grade Total Sq Ft</label>
                                        <input
                                          type="number"
                                          className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 bg-gray-100 cursor-not-allowed"
                                          placeholder="Auto-calculated"
                                          disabled
                                        />
                                      </div>

                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">Basement Sq Ft</label>
                                          <input
                                            type="number"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                            placeholder="Enter square feet"
                                          />
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">Finished Basement Sq Ft</label>
                                          <input
                                            type="number"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                            placeholder="Enter square feet"
                                          />
                                        </div>
                                      </div>

                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">Unfinished Basement Sq Ft</label>
                                          <input
                                            type="number"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                            placeholder="Enter square feet"
                                          />
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">Aprox. Total Finished Sq Ft</label>
                                          <input
                                            type="number"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 bg-gray-100 cursor-not-allowed"
                                            placeholder="Auto-calculated"
                                            disabled
                                          />
                                        </div>
                                      </div>

                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">
                                            # Bedrooms (All Levels) <span className="text-red-500">*</span>
                                          </label>
                                          <input
                                            type="number"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                            placeholder="Enter number"
                                          />
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">
                                            # Full Baths <span className="text-red-500">*</span>
                                          </label>
                                          <input
                                            type="number"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                            placeholder="Enter number"
                                          />
                                        </div>
                                      </div>

                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">
                                            # Half Baths <span className="text-red-500">*</span>
                                          </label>
                                          <input
                                            type="number"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                            placeholder="Enter number"
                                          />
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">
                                            Master Bedroom Bath (2 max) <span className="text-red-500">*</span>
                                          </label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                      </div>

                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">
                                            Basement (2 max) <span className="text-red-500">*</span>
                                          </label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">
                                            Basement Description <span className="text-red-500">*</span>
                                          </label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                      </div>

                                      <div>
                                        <label className="block text-sm mb-2">Bath Amenities (6 max)</label>
                                        <div className="relative">
                                          <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                            <option value="">Select</option>
                                          </select>
                                          <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                            <polyline points="6 9 12 15 18 9" />
                                          </svg>
                                        </div>
                                      </div>

                                      <div>
                                        <label className="block text-sm mb-2"># Interior Fireplaces</label>
                                        <input
                                          type="number"
                                          className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                          placeholder="Enter number"
                                        />
                                      </div>

                                      <div>
                                        <label className="block text-sm mb-2">Interior Property Features (6 max)</label>
                                        <div className="relative">
                                          <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                            <option value="">Select</option>
                                          </select>
                                          <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                            <polyline points="6 9 12 15 18 9" />
                                          </svg>
                                        </div>
                                      </div>
                                    </div>

                                    <div className="mt-10 flex justify-between">
                                      <button
                                        onClick={() => setCurrentStep(2)}
                                        className="px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 font-medium transition-colors"
                                      >
                                        Back
                                      </button>
                                      <button
                                        onClick={() => setCurrentStep(4)}
                                        className="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-colors"
                                      >
                                        Save and Continue
                                      </button>
                                    </div>
                                  </div>
                                ) : currentStep === 4 ? (
                                  /* Step 5: Room Details */
                                  <div>
                                    <h2 className="text-xl font-semibold mb-6">Room Details</h2>
                                    <div className="space-y-6">
                                      {/* Living Room */}
                                      <div className="border-b border-gray-200 pb-6">
                                        <h3 className="font-medium mb-4">Living Room</h3>
                                        <div className="space-y-4">
                                          <div className="grid grid-cols-2 gap-4">
                                            <div>
                                              <label className="block text-sm mb-2">Size</label>
                                              <input
                                                type="text"
                                                className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                                placeholder="Enter size"
                                              />
                                            </div>
                                            <div>
                                              <label className="block text-sm mb-2">
                                                Level <span className="text-red-500">*</span>
                                              </label>
                                              <div className="relative">
                                                <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                                  <option value="">Select</option>
                                                </select>
                                                <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                                  <polyline points="6 9 12 15 18 9" />
                                                </svg>
                                              </div>
                                            </div>
                                          </div>
                                          <div className="grid grid-cols-2 gap-4">
                                            <div>
                                              <label className="block text-sm mb-2">Flooring</label>
                                              <div className="relative">
                                                <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                                  <option value="">Select</option>
                                                </select>
                                                <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                                  <polyline points="6 9 12 15 18 9" />
                                                </svg>
                                              </div>
                                            </div>
                                            <div>
                                              <label className="block text-sm mb-2">Window Treatments (2 max)</label>
                                              <div className="relative">
                                                <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                                  <option value="">Select</option>
                                                </select>
                                                <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                                  <polyline points="6 9 12 15 18 9" />
                                                </svg>
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                      </div>

                                      {/* Dining Room */}
                                      <div className="border-b border-gray-200 pb-6">
                                        <h3 className="font-medium mb-4">Dining Room</h3>
                                        <div className="space-y-4">
                                          <div className="grid grid-cols-2 gap-4">
                                            <div>
                                              <label className="block text-sm mb-2">Size</label>
                                              <input
                                                type="text"
                                                className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                                placeholder="Enter size"
                                              />
                                            </div>
                                            <div>
                                              <label className="block text-sm mb-2">
                                                Level <span className="text-red-500">*</span>
                                              </label>
                                              <div className="relative">
                                                <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                                  <option value="">Select</option>
                                                </select>
                                                <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                                  <polyline points="6 9 12 15 18 9" />
                                                </svg>
                                              </div>
                                            </div>
                                          </div>
                                          <div className="grid grid-cols-2 gap-4">
                                            <div>
                                              <label className="block text-sm mb-2">Flooring</label>
                                              <div className="relative">
                                                <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                                  <option value="">Select</option>
                                                </select>
                                                <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                                  <polyline points="6 9 12 15 18 9" />
                                                </svg>
                                              </div>
                                            </div>
                                            <div>
                                              <label className="block text-sm mb-2">Window Treatments (2 max)</label>
                                              <div className="relative">
                                                <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                                  <option value="">Select</option>
                                                </select>
                                                <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                                  <polyline points="6 9 12 15 18 9" />
                                                </svg>
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                      </div>

                                      {/* Kitchen */}
                                      <div className="border-b border-gray-200 pb-6">
                                        <h3 className="font-medium mb-4">Kitchen</h3>
                                        <div className="space-y-4">
                                          <div className="grid grid-cols-2 gap-4">
                                            <div>
                                              <label className="block text-sm mb-2">Size</label>
                                              <input
                                                type="text"
                                                className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                                placeholder="Enter size"
                                              />
                                            </div>
                                            <div>
                                              <label className="block text-sm mb-2">
                                                Level <span className="text-red-500">*</span>
                                              </label>
                                              <div className="relative">
                                                <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                                  <option value="">Select</option>
                                                </select>
                                                <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                                  <polyline points="6 9 12 15 18 9" />
                                                </svg>
                                              </div>
                                            </div>
                                          </div>
                                          <div className="grid grid-cols-2 gap-4">
                                            <div>
                                              <label className="block text-sm mb-2">Flooring</label>
                                              <div className="relative">
                                                <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                                  <option value="">Select</option>
                                                </select>
                                                <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                                  <polyline points="6 9 12 15 18 9" />
                                                </svg>
                                              </div>
                                            </div>
                                            <div>
                                              <label className="block text-sm mb-2">Window Treatments (2 max)</label>
                                              <div className="relative">
                                                <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                                  <option value="">Select</option>
                                                </select>
                                                <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                                  <polyline points="6 9 12 15 18 9" />
                                                </svg>
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                      </div>

                                      {/* Family Room */}
                                      <div className="border-b border-gray-200 pb-6">
                                        <h3 className="font-medium mb-4">Family Room</h3>
                                        <div className="space-y-4">
                                          <div className="grid grid-cols-2 gap-4">
                                            <div>
                                              <label className="block text-sm mb-2">Size</label>
                                              <input
                                                type="text"
                                                className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                                placeholder="Enter size"
                                              />
                                            </div>
                                            <div>
                                              <label className="block text-sm mb-2">
                                                Level <span className="text-red-500">*</span>
                                              </label>
                                              <div className="relative">
                                                <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                                  <option value="">Select</option>
                                                </select>
                                                <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                                  <polyline points="6 9 12 15 18 9" />
                                                </svg>
                                              </div>
                                            </div>
                                          </div>
                                          <div className="grid grid-cols-2 gap-4">
                                            <div>
                                              <label className="block text-sm mb-2">Flooring</label>
                                              <div className="relative">
                                                <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                                  <option value="">Select</option>
                                                </select>
                                                <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                                  <polyline points="6 9 12 15 18 9" />
                                                </svg>
                                              </div>
                                            </div>
                                            <div>
                                              <label className="block text-sm mb-2">Window Treatments (2 max)</label>
                                              <div className="relative">
                                                <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                                  <option value="">Select</option>
                                                </select>
                                                <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                                  <polyline points="6 9 12 15 18 9" />
                                                </svg>
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                      </div>

                                      {/* Master Bedroom */}
                                      <div className="border-b border-gray-200 pb-6">
                                        <h3 className="font-medium mb-4">Master Bedroom</h3>
                                        <div className="space-y-4">
                                          <div className="grid grid-cols-2 gap-4">
                                            <div>
                                              <label className="block text-sm mb-2">
                                                Size <span className="text-red-500">*</span>
                                              </label>
                                              <input
                                                type="text"
                                                className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                                placeholder="Enter size"
                                              />
                                            </div>
                                            <div>
                                              <label className="block text-sm mb-2">
                                                Level <span className="text-red-500">*</span>
                                              </label>
                                              <div className="relative">
                                                <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                                  <option value="">Select</option>
                                                </select>
                                                <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                                  <polyline points="6 9 12 15 18 9" />
                                                </svg>
                                              </div>
                                            </div>
                                          </div>
                                          <div className="grid grid-cols-2 gap-4">
                                            <div>
                                              <label className="block text-sm mb-2">Flooring</label>
                                              <div className="relative">
                                                <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                                  <option value="">Select</option>
                                                </select>
                                                <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                                  <polyline points="6 9 12 15 18 9" />
                                                </svg>
                                              </div>
                                            </div>
                                            <div>
                                              <label className="block text-sm mb-2">Window Treatments (2 max)</label>
                                              <div className="relative">
                                                <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                                  <option value="">Select</option>
                                                </select>
                                                <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                                  <polyline points="6 9 12 15 18 9" />
                                                </svg>
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                      </div>

                                      {/* 2nd Bedroom */}
                                      <div className="border-b border-gray-200 pb-6">
                                        <h3 className="font-medium mb-4">2nd Bedroom</h3>
                                        <div className="space-y-4">
                                          <div className="grid grid-cols-2 gap-4">
                                            <div>
                                              <label className="block text-sm mb-2">
                                                Size <span className="text-red-500">*</span>
                                              </label>
                                              <input
                                                type="text"
                                                className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                                placeholder="Enter size"
                                              />
                                            </div>
                                            <div>
                                              <label className="block text-sm mb-2">
                                                Level <span className="text-red-500">*</span>
                                              </label>
                                              <div className="relative">
                                                <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                                  <option value="">Select</option>
                                                </select>
                                                <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                                  <polyline points="6 9 12 15 18 9" />
                                                </svg>
                                              </div>
                                            </div>
                                          </div>
                                          <div className="grid grid-cols-2 gap-4">
                                            <div>
                                              <label className="block text-sm mb-2">Flooring</label>
                                              <div className="relative">
                                                <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                                  <option value="">Select</option>
                                                </select>
                                                <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                                  <polyline points="6 9 12 15 18 9" />
                                                </svg>
                                              </div>
                                            </div>
                                            <div>
                                              <label className="block text-sm mb-2">Window Treatments (2 max)</label>
                                              <div className="relative">
                                                <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                                  <option value="">Select</option>
                                                </select>
                                                <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                                  <polyline points="6 9 12 15 18 9" />
                                                </svg>
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                      </div>

                                      {/* General Room Fields */}
                                      <div className="space-y-4">
                                        <div className="grid grid-cols-2 gap-4">
                                          <div>
                                            <label className="block text-sm mb-2">Dining Room</label>
                                            <div className="relative">
                                              <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                                <option value="">Select</option>
                                              </select>
                                              <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                                <polyline points="6 9 12 15 18 9" />
                                              </svg>
                                            </div>
                                          </div>
                                          <div>
                                            <label className="block text-sm mb-2">Kitchen Type</label>
                                            <div className="relative">
                                              <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                                <option value="">Select</option>
                                              </select>
                                              <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                                <polyline points="6 9 12 15 18 9" />
                                              </svg>
                                            </div>
                                          </div>
                                        </div>

                                        <div>
                                          <label className="block text-sm mb-2">Appliances</label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>

                                        <div>
                                          <label className="block text-sm mb-2">
                                            Additional Rooms <span className="text-red-500">*</span>
                                          </label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>

                                        {/* Additional Room Names */}
                                        <div className="grid grid-cols-2 gap-4">
                                          <div>
                                            <label className="block text-sm mb-2">Additional Room 1 Name</label>
                                            <input
                                              type="text"
                                              className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                              placeholder="Enter room name"
                                            />
                                          </div>
                                          <div>
                                            <label className="block text-sm mb-2">Additional Room 2 Name</label>
                                            <input
                                              type="text"
                                              className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                              placeholder="Enter room name"
                                            />
                                          </div>
                                        </div>

                                        <div className="grid grid-cols-2 gap-4">
                                          <div>
                                            <label className="block text-sm mb-2">Additional Room 3 Name</label>
                                            <input
                                              type="text"
                                              className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                              placeholder="Enter room name"
                                            />
                                          </div>
                                          <div>
                                            <label className="block text-sm mb-2">Additional Room 4 Name</label>
                                            <input
                                              type="text"
                                              className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                              placeholder="Enter room name"
                                            />
                                          </div>
                                        </div>

                                        <div className="grid grid-cols-2 gap-4">
                                          <div>
                                            <label className="block text-sm mb-2">Additional Room 5 Name</label>
                                            <input
                                              type="text"
                                              className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                              placeholder="Enter room name"
                                            />
                                          </div>
                                          <div>
                                            <label className="block text-sm mb-2">Additional Room 6 Name</label>
                                            <input
                                              type="text"
                                              className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                              placeholder="Enter room name"
                                            />
                                          </div>
                                        </div>

                                        <div className="grid grid-cols-2 gap-4">
                                          <div>
                                            <label className="block text-sm mb-2">Additional Room 7 Name</label>
                                            <input
                                              type="text"
                                              className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                              placeholder="Enter room name"
                                            />
                                          </div>
                                          <div>
                                            <label className="block text-sm mb-2">Additional Room 8 Name</label>
                                            <input
                                              type="text"
                                              className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                              placeholder="Enter room name"
                                            />
                                          </div>
                                        </div>

                                        <div className="grid grid-cols-2 gap-4">
                                          <div>
                                            <label className="block text-sm mb-2">Additional Room 9 Name</label>
                                            <input
                                              type="text"
                                              className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                              placeholder="Enter room name"
                                            />
                                          </div>
                                          <div>
                                            <label className="block text-sm mb-2">Additional Room 10 Name</label>
                                            <input
                                              type="text"
                                              className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                              placeholder="Enter room name"
                                            />
                                          </div>
                                        </div>
                                      </div>
                                    </div>

                                    <div className="mt-10 flex justify-between">
                                      <button
                                        onClick={() => setCurrentStep(3)}
                                        className="px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 font-medium transition-colors"
                                      >
                                        Back
                                      </button>
                                      <button
                                        onClick={() => setCurrentStep(5)}
                                        className="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-colors"
                                      >
                                        Save and Continue
                                      </button>
                                    </div>
                                  </div>
                                ) : currentStep === 5 ? (
                                  /* Step 6: Utilities/Green */
                                  <div>
                                    <h2 className="text-xl font-semibold mb-6">Utilities/Green</h2>
                                    <div className="space-y-4">
                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">
                                            Air Conditioning <span className="text-red-500">*</span>
                                          </label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">
                                            Water (2 max) <span className="text-red-500">*</span>
                                          </label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                      </div>

                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">
                                            Sewer (2 max) <span className="text-red-500">*</span>
                                          </label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">Electricity</label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                      </div>

                                      <div>
                                        <label className="block text-sm mb-2">
                                          Heat/Fuel <span className="text-red-500">*</span>
                                        </label>
                                        <div className="relative">
                                          <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                            <option value="">Select</option>
                                          </select>
                                          <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                            <polyline points="6 9 12 15 18 9" />
                                          </svg>
                                        </div>
                                      </div>

                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">HERS Index Score</label>
                                          <input
                                            type="number"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                            placeholder="Enter score"
                                          />
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">Green Supporting Documents</label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                      </div>

                                      <div>
                                        <label className="block text-sm mb-2">Energy/Green Building Rating Source</label>
                                        <div className="relative">
                                          <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                            <option value="">Select</option>
                                          </select>
                                          <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                            <polyline points="6 9 12 15 18 9" />
                                          </svg>
                                        </div>
                                      </div>

                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">Green Features</label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">Equipment</label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                      </div>

                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">Electricity Account #</label>
                                          <input
                                            type="text"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                            placeholder="Enter account number"
                                          />
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">Gas Account #</label>
                                          <input
                                            type="text"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                            placeholder="Enter account number"
                                          />
                                        </div>
                                      </div>
                                    </div>

                                    <div className="mt-10 flex justify-between">
                                      <button
                                        onClick={() => setCurrentStep(4)}
                                        className="px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 font-medium transition-colors"
                                      >
                                        Back
                                      </button>
                                      <button
                                        onClick={() => setCurrentStep(6)}
                                        className="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-colors"
                                      >
                                        Save and Continue
                                      </button>
                                    </div>
                                  </div>
                                ) : currentStep === 6 ? (
                                  /* Step 7: Tax/Assessment */
                                  <div>
                                    <h2 className="text-xl font-semibold mb-6">Tax/Assessment</h2>
                                    <div className="space-y-4">
                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">
                                            Tax Year <span className="text-red-500">*</span>
                                          </label>
                                          <input
                                            type="number"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                            placeholder="Enter year"
                                          />
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">Tax Exemptions</label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                      </div>

                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">
                                            Primary Parcel Tax Amount <span className="text-red-500">*</span>
                                          </label>
                                          <input
                                            type="number"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                            placeholder="Enter amount"
                                          />
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">
                                            Total Taxes <span className="text-red-500">*</span>
                                          </label>
                                          <input
                                            type="number"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                            placeholder="Enter amount"
                                          />
                                        </div>
                                      </div>

                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">
                                            Special Assessments <span className="text-red-500">*</span>
                                          </label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                              <option value="Y">Yes</option>
                                              <option value="N">No</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">
                                            Special Service Area <span className="text-red-500">*</span>
                                          </label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                              <option value="Y">Yes</option>
                                              <option value="N">No</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                      </div>

                                      <div>
                                        <label className="block text-sm mb-2">
                                          Special Service Area Fee <span className="text-red-500">*</span>
                                        </label>
                                        <input
                                          type="number"
                                          className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                          placeholder="Enter fee amount"
                                        />
                                      </div>

                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">
                                            Assessment/Association Dues $ <span className="text-red-500">*</span>
                                          </label>
                                          <input
                                            type="number"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                            placeholder="Enter amount"
                                          />
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">
                                            Frequency <span className="text-red-500">*</span>
                                          </label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                      </div>

                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">
                                            Master Association Fee <span className="text-red-500">*</span>
                                          </label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                              <option value="Y">Yes</option>
                                              <option value="N">No</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">
                                            Master Association Fee($) <span className="text-red-500">*</span>
                                          </label>
                                          <input
                                            type="number"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                            placeholder="Enter amount"
                                          />
                                        </div>
                                      </div>

                                      <div>
                                        <label className="block text-sm mb-2">
                                          Master Association Fee Frequency <span className="text-red-500">*</span>
                                        </label>
                                        <div className="relative">
                                          <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                            <option value="">Select</option>
                                          </select>
                                          <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                            <polyline points="6 9 12 15 18 9" />
                                          </svg>
                                        </div>
                                      </div>

                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">Coop Annual Tax Deduction</label>
                                          <input
                                            type="number"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                            placeholder="Enter amount"
                                          />
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">Coop Tax Deduction Year</label>
                                          <input
                                            type="number"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                            placeholder="Enter year"
                                          />
                                        </div>
                                      </div>

                                      <div>
                                        <label className="block text-sm mb-2">
                                          Assessment Includes <span className="text-red-500">*</span>
                                        </label>
                                        <div className="relative">
                                          <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                            <option value="">Select</option>
                                          </select>
                                          <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                            <polyline points="6 9 12 15 18 9" />
                                          </svg>
                                        </div>
                                      </div>

                                      <div>
                                        <label className="block text-sm mb-2">Fees/Approvals</label>
                                        <div className="relative">
                                          <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                            <option value="">Select</option>
                                          </select>
                                          <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                            <polyline points="6 9 12 15 18 9" />
                                          </svg>
                                        </div>
                                      </div>
                                    </div>

                                    <div className="mt-10 flex justify-between">
                                      <button
                                        onClick={() => setCurrentStep(5)}
                                        className="px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 font-medium transition-colors"
                                      >
                                        Back
                                      </button>
                                      <button
                                        onClick={() => setCurrentStep(7)}
                                        className="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-colors"
                                      >
                                        Save and Continue
                                      </button>
                                    </div>
                                  </div>
                                ) : currentStep === 7 ? (
                                  /* Step 8: Office/Sales Info */
                                  <div>
                                    <h2 className="text-xl font-semibold mb-6">Office/Sales Info</h2>
                                    <div className="space-y-4">
                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">
                                            Listing Type <span className="text-red-500">*</span>
                                          </label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">
                                            Agent Owned/Interest <span className="text-red-500">*</span>
                                          </label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                              <option value="Y">Yes</option>
                                              <option value="N">No</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                      </div>

                                      <div>
                                        <label className="block text-sm mb-2">
                                          Holds Earnest Money <span className="text-red-500">*</span>
                                        </label>
                                        <div className="relative">
                                          <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                            <option value="">Select</option>
                                          </select>
                                          <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                            <polyline points="6 9 12 15 18 9" />
                                          </svg>
                                        </div>
                                      </div>

                                      <div>
                                        <label className="block text-sm mb-2">Lock Box Type (2 max)</label>
                                        <div className="relative">
                                          <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                            <option value="">Select</option>
                                          </select>
                                          <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                            <polyline points="6 9 12 15 18 9" />
                                          </svg>
                                        </div>
                                      </div>

                                      <div>
                                        <label className="block text-sm mb-2">
                                          Showing Instructions <span className="text-red-500">*</span>
                                        </label>
                                        <input
                                          type="text"
                                          maxLength={100}
                                          className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                          placeholder="Enter instructions (100 characters max)"
                                        />
                                      </div>

                                      <div>
                                        <label className="block text-sm mb-2">
                                          Additional Sales Information <span className="text-red-500">*</span>
                                        </label>
                                        <div className="relative">
                                          <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                            <option value="">Select</option>
                                          </select>
                                          <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                            <polyline points="6 9 12 15 18 9" />
                                          </svg>
                                        </div>
                                      </div>

                                      <div>
                                        <label className="block text-sm mb-2">Agent Notices</label>
                                        <div className="relative">
                                          <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                            <option value="">Select</option>
                                          </select>
                                          <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                            <polyline points="6 9 12 15 18 9" />
                                          </svg>
                                        </div>
                                      </div>

                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">Management Company</label>
                                          <input
                                            type="text"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                            placeholder="Enter company name"
                                          />
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">Management Contact Name</label>
                                          <input
                                            type="text"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                            placeholder="Enter contact name"
                                          />
                                        </div>
                                      </div>

                                      <div>
                                        <label className="block text-sm mb-2">Management Phone</label>
                                        <input
                                          type="tel"
                                          value={formFields.mlsManagementPhone || ''}
                                          onChange={(e) => handleFieldChange('mlsManagementPhone', e.target.value)}
                                          className={`w-full px-4 py-2 border rounded-lg focus:outline-none ${
                                            formValidation.mlsManagementPhone
                                              ? 'border-red-500 focus:border-red-500'
                                              : 'border-gray-300 focus:border-blue-500'
                                          }`}
                                          placeholder="(555) 123-4567"
                                        />
                                        {formValidation.mlsManagementPhone && (
                                          <p className="text-red-500 text-sm mt-1">
                                            {formValidation.mlsManagementPhone}
                                          </p>
                                        )}
                                      </div>

                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">
                                            Possession <span className="text-red-500">*</span>
                                          </label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">Sale Terms</label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                      </div>

                                      <div>
                                        <label className="block text-sm mb-2">Listing Agent Additional Info</label>
                                        <input
                                          type="text"
                                          className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                          placeholder="Enter additional information"
                                        />
                                      </div>

                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">
                                            Owner's Name <span className="text-red-500">*</span>
                                          </label>
                                          <input
                                            type="text"
                                            className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                            placeholder="Enter owner's name"
                                          />
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">Owner's Phone</label>
                                          <input
                                            type="tel"
                                            value={formFields.mlsOwnerPhone || ''}
                                            onChange={(e) => handleFieldChange('mlsOwnerPhone', e.target.value)}
                                            className={`w-full px-4 py-2 border rounded-lg focus:outline-none ${
                                              formValidation.mlsOwnerPhone
                                                ? 'border-red-500 focus:border-red-500'
                                                : 'border-gray-300 focus:border-blue-500'
                                            }`}
                                            placeholder="(555) 123-4567"
                                          />
                                          {formValidation.mlsOwnerPhone && (
                                            <p className="text-red-500 text-sm mt-1">
                                              {formValidation.mlsOwnerPhone}
                                            </p>
                                          )}
                                        </div>
                                      </div>

                                      <div className="grid grid-cols-2 gap-4">
                                        <div>
                                          <label className="block text-sm mb-2">For Investors</label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                              <option value="Y">Yes</option>
                                              <option value="N">No</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                        <div>
                                          <label className="block text-sm mb-2">Can Owner Rent Unit?</label>
                                          <div className="relative">
                                            <select className="w-full pl-4 pr-10 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500 appearance-none bg-white">
                                              <option value="">Select</option>
                                              <option value="Y">Yes</option>
                                              <option value="N">No</option>
                                            </select>
                                            <svg className="absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-400" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                              <polyline points="6 9 12 15 18 9" />
                                            </svg>
                                          </div>
                                        </div>
                                      </div>

                                      <div>
                                        <label className="block text-sm mb-2">Agent Remarks</label>
                                        <textarea
                                          maxLength={1000}
                                          rows={4}
                                          className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                          placeholder="Enter remarks (1000 characters max)"
                                        />
                                      </div>

                                      <div>
                                        <label className="block text-sm mb-2">
                                          Secure ShowingTime Instructions <span className="text-red-500">*</span>
                                        </label>
                                        <textarea
                                          maxLength={508}
                                          rows={4}
                                          className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                          placeholder="Enter instructions (508 characters max)"
                                        />
                                      </div>
                                    </div>

                                    <div className="mt-10 flex justify-between">
                                      <button
                                        onClick={() => setCurrentStep(6)}
                                        className="px-6 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 font-medium transition-colors"
                                      >
                                        Back
                                      </button>
                                      <button
                                        onClick={() => alert('Form submitted!')}
                                        className="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-medium transition-colors"
                                      >
                                        Submit
                                      </button>
                                    </div>
                                  </div>
                                ) : null}
                              </>
                            ) : null}
                          </div>
                        </div>
                      </div>
                    </div>
                  )
                )}
              </div>
            </div>

            {/* Floating Remarks Button - Only show in workspace view */}
            {activeView === 'workspace' && (
              <button
                className="fixed bottom-6 right-6 flex items-center gap-2 px-5 py-3 bg-blue-600 text-white rounded-full shadow-lg hover:bg-blue-700 transition-all hover:shadow-xl"
                aria-label="Remarks"
              >
                <MessageCircle size={20} />
                <span className="font-medium">Remarks</span>
              </button>
            )}

            {isModificationModalOpen && (
              <div className="fixed inset-0 z-[80] flex items-center justify-center px-4">
                <div
                  className="absolute inset-0 bg-black bg-opacity-50"
                  onClick={handleCloseModificationModal}
                ></div>
                <div className="relative bg-white rounded-3xl shadow-2xl w-full max-w-5xl max-h-[90vh] overflow-hidden">
                  <div className="flex items-center justify-between px-8 py-6 border-b border-gray-200">
                    <div>
                      <p className="text-xs font-semibold text-gray-500 uppercase tracking-wide">Step 1</p>
                      <h2 className="text-2xl font-semibold text-gray-900">Add Modification Request</h2>
                      <p className="text-sm text-gray-500">
                        Select the modification type to unlock its workflow guidance.
                      </p>
                    </div>
                    <button
                      onClick={handleCloseModificationModal}
                      className="p-2 rounded-full hover:bg-gray-100 text-gray-500"
                      aria-label="Close modal"
                    >
                      <XIcon size={20} />
                    </button>
                  </div>
                  <div className="px-8 py-6 space-y-6 overflow-y-auto" style={{ maxHeight: '60vh' }}>
                    <div className="grid grid-cols-1 md:grid-cols-2 gap-5">
                      <div>
                        <label className="block text-sm font-semibold text-gray-700 mb-2">Modification category</label>
                        <select
                          value={selectedCategoryKey}
                          onChange={e => handleCategoryChange(e.target.value)}
                          className="w-full border border-gray-300 rounded-xl px-3 py-2 focus:outline-none focus:border-blue-600 text-gray-900"
                        >
                          <option value="">Select a category</option>
                          {modificationCategories.map(category => (
                            <option key={category.key} value={category.key}>
                              {category.label}
                            </option>
                          ))}
                        </select>
                      </div>
                      {selectedCategory && availableWorkflows.length > 1 && (
                        <div>
                          <label className="block text-sm font-semibold text-gray-700 mb-2">Specific workflow</label>
                          <select
                            value={selectedWorkflowKey}
                            onChange={e => handleWorkflowChange(e.target.value)}
                            className="w-full border border-gray-300 rounded-xl px-3 py-2 focus:outline-none focus:border-blue-600 text-gray-900"
                          >
                            <option value="">Select an option</option>
                            {availableWorkflows.map(optionKey => (
                              <option key={optionKey} value={optionKey}>
                                {workflowDetails[optionKey]?.choiceLabel || optionKey}
                              </option>
                            ))}
                          </select>
                        </div>
                      )}
                    </div>

                    <div className="space-y-3">
                      <p className="text-xs font-semibold text-gray-500 uppercase tracking-wide">Step 2</p>
                      {workflowSection}
                    </div>
                  </div>
                  <div className="flex justify-end gap-4 px-8 py-5 border-t border-gray-200 bg-gray-50">
                    <button
                      onClick={handleCloseModificationModal}
                      className="px-6 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-100"
                    >
                      Cancel
                    </button>
                    <button
                      className={`px-6 py-2 text-sm font-medium text-white rounded-lg ${
                        isSubmitDisabled ? 'bg-blue-300 cursor-not-allowed' : 'bg-blue-600 hover:bg-blue-700'
                      }`}
                      onClick={handleSubmitModification}
                      disabled={isSubmitDisabled}
                    >
                      Submit
                    </button>
                  </div>
                </div>
              </div>
            )}

            {documentModalOpen && (
              <div className="fixed inset-0 z-[85] flex items-center justify-center px-4">
                <div
                  className="absolute inset-0 bg-black bg-opacity-60"
                  onClick={closeDocumentModal}
                ></div>
                <div className="relative bg-white rounded-3xl shadow-2xl w-full max-w-md overflow-hidden">
                  <div className="flex items-center justify-between px-6 py-4 border-b border-gray-200">
                    <h3 className="text-lg font-semibold text-gray-900">Upload Document</h3>
                    <button
                      onClick={closeDocumentModal}
                      className="p-2 rounded-full hover:bg-gray-100 text-gray-500"
                      aria-label="Close document modal"
                    >
                      <XIcon size={20} />
                    </button>
                  </div>
                  <div className="p-6 space-y-6 overflow-y-auto" style={{ maxHeight: '60vh' }}>
                    {documentModalFiles.length > 0 && (
                      <div className="space-y-2">
                        <p className="text-sm font-medium text-gray-700">Files ready to attach</p>
                        <ul className="space-y-2">
                          {documentModalFiles.map((file, index) => (
                            <li
                              key={`${file.name}-${index}`}
                              className="flex items-center justify-between bg-gray-50 border border-gray-200 rounded-lg px-3 py-2 text-sm text-gray-700"
                            >
                              <span>{file.name}</span>
                              <div className="flex items-center gap-3">
                                <span className="text-xs text-gray-500">{formatFileSize(file.size)}</span>
                                <button
                                  type="button"
                                  className="text-gray-400 hover:text-red-600"
                                  onClick={() => handleDocumentModalRemoveFile(index)}
                                  aria-label={`Remove ${file.name}`}
                                >
                                  <XIcon size={16} />
                                </button>
                              </div>
                            </li>
                          ))}
                        </ul>
                      </div>
                    )}
                    <div className="text-center">
                      <p className="text-sm text-gray-600">
                        File formats accepted: <span className="font-semibold text-gray-900">PDF</span>
                      </p>
                      <p className="text-xs text-gray-500 mt-1">Maximum Upload Packet Size: 100 MB</p>
                    </div>
                    <div className="flex justify-center">
                      <input
                        type="file"
                        multiple
                        className="hidden"
                        id="simple-document-upload-input"
                        onChange={handleDocumentModalFileSelect}
                      />
                      <label
                        htmlFor="simple-document-upload-input"
                        className="inline-flex items-center gap-2 px-5 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700 cursor-pointer"
                      >
                        <UploadIcon size={18} />
                        <span>Upload</span>
                      </label>
                    </div>
                    <p className="text-sm text-gray-500 text-center">
                      We will add an empty template of your required document within your transaction if you don't upload one.
                    </p>
                  </div>
                  <div className="flex justify-end gap-3 px-6 py-4 border-t border-gray-200">
                    <button
                      onClick={closeDocumentModal}
                      className="px-5 py-2 text-sm font-medium text-gray-600 bg-white border border-gray-300 rounded-lg hover:bg-gray-50"
                    >
                      Cancel
                    </button>
                    <button
                      onClick={closeDocumentModal}
                      className="px-5 py-2 text-sm font-medium text-white bg-blue-600 rounded-lg hover:bg-blue-700"
                    >
                      Submit
                    </button>
                  </div>
                </div>
              </div>
            )}

            {/* Upload Modal with Overlay */}
            {showUploadModal && (
              <>
                {/* Dark Overlay - covers entire viewport including sidenav */}
                <div
                  className="fixed bg-black bg-opacity-50"
                  style={{ top: 0, left: 0, right: 0, bottom: 0, zIndex: 60 }}
                  onClick={handleCloseModal}
                ></div>

                {/* Modal */}
                <div
                  className="fixed flex items-center justify-center p-4"
                  style={{ top: 0, left: 0, right: 0, bottom: 0, zIndex: 70 }}
                >
                  <div className="bg-white rounded-lg shadow-xl max-w-2xl w-full">
                    {/* Modal Header */}
                    <div className="flex items-center justify-between p-6 border-b border-gray-200">
                      <h2 className="text-xl font-semibold text-gray-900">Upload Documents</h2>
                      <button
                        onClick={handleCloseModal}
                        className="text-gray-400 hover:text-gray-600 transition-colors"
                      >
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                          <line x1="18" y1="6" x2="6" y2="18"></line>
                          <line x1="6" y1="6" x2="18" y2="18"></line>
                        </svg>
                      </button>
                    </div>

                    {/* Modal Body */}
                    <div className="p-6">
                      <p className="text-sm text-gray-600 mb-6">
                        <span className="text-blue-600 font-medium">MaxHome AI</span> will automatically extract, organize, and label documents from your upload while keeping the original files for reference.
                      </p>

                      {/* Drag and Drop Area */}
                      <div
                        onDragOver={handleDragOver}
                        onDragLeave={handleDragLeave}
                        onDrop={handleDrop}
                        className={`border-2 border-dashed rounded-lg p-12 text-center transition-colors ${
                          isDragging
                            ? 'border-blue-500 bg-blue-50'
                            : 'border-gray-300 bg-gray-50'
                        }`}
                      >
                        {/* Upload Icon */}
                        <div className="flex justify-center mb-4">
                          <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="text-blue-600">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                            <polyline points="17 8 12 3 7 8"></polyline>
                            <line x1="12" y1="3" x2="12" y2="15"></line>
                          </svg>
                        </div>

                        <p className="text-lg font-medium text-gray-900 mb-2">
                          Drag and drop your files here!
                        </p>
                        <p className="text-sm text-gray-500 mb-4">
                          Maximum file size: 100MB
                        </p>

                        {/* Browse Files Button */}
                        <label className="inline-block">
                          <input
                            type="file"
                            multiple
                            onChange={handleFileSelect}
                            className="hidden"
                            accept=".pdf,.doc,.docx,.jpg,.jpeg,.png"
                          />
                          <span className="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors cursor-pointer inline-block">
                            Browse Files
                          </span>
                        </label>
                      </div>

                      {/* Selected Files List */}
                      {selectedFiles.length > 0 && (
                        <div className="mt-6">
                          <h3 className="text-sm font-medium text-gray-900 mb-3">
                            Selected Files ({selectedFiles.length})
                          </h3>
                          <div className="space-y-2 max-h-48 overflow-y-auto">
                            {selectedFiles.map((file, index) => (
                              <div
                                key={index}
                                className="flex items-center justify-between p-3 bg-gray-50 rounded-lg border border-gray-200"
                              >
                                <div className="flex items-center gap-3 flex-1 min-w-0">
                                  {/* File Icon */}
                                  <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className="text-gray-400 flex-shrink-0">
                                    <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path>
                                    <polyline points="13 2 13 9 20 9"></polyline>
                                  </svg>
                                  <div className="flex-1 min-w-0">
                                    <p className="text-sm font-medium text-gray-900 truncate">
                                      {file.name}
                                    </p>
                                    <p className="text-xs text-gray-500">
                                      {(file.size / 1024).toFixed(2)} KB
                                    </p>
                                  </div>
                                </div>
                                {/* Remove Button */}
                                <button
                                  onClick={() => handleRemoveFile(index)}
                                  className="text-gray-400 hover:text-red-600 transition-colors ml-2 flex-shrink-0"
                                >
                                  <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                                    <line x1="18" y1="6" x2="6" y2="18"></line>
                                    <line x1="6" y1="6" x2="18" y2="18"></line>
                                  </svg>
                                </button>
                              </div>
                            ))}
                          </div>
                        </div>
                      )}
                    </div>

                    {/* Modal Footer */}
                    <div className="flex justify-end gap-3 p-6 border-t border-gray-200">
                      <button
                        onClick={handleCloseModal}
                        className="px-6 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors"
                      >
                        Cancel
                      </button>
                      <button
                        onClick={handleUploadSubmit}
                        disabled={selectedFiles.length === 0}
                        className={`px-6 py-2 rounded-lg transition-colors ${
                          selectedFiles.length === 0
                            ? 'bg-gray-300 text-gray-500 cursor-not-allowed'
                            : 'bg-blue-600 text-white hover:bg-blue-700'
                        }`}
                      >
                        Submit
                      </button>
                    </div>
                  </div>
                </div>
              </>
            )}
          </div>
        </>
      );
    }

    // Render the app
    const root = ReactDOM.createRoot(document.getElementById('root'));
    root.render(<App />);
  </script>
</body>
</html>
